2022/10/19 17:38:10.256 lib.rs:542: [WARN] environment variable `TZ` is missing, using `/etc/localtime`
2022/10/19 17:38:10.256 lib.rs:554: [INFO] environment variable is present, http_proxy: http://127.0.0.1:6152
2022/10/19 17:38:10.256 lib.rs:554: [INFO] environment variable is present, https_proxy: http://127.0.0.1:6152
test_push_non_witness_availability 2022/10/19 17:38:10.257 runner.rs:40: [DEBG] case start, name: raftstore::test_witness::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:10.257 thread.rs:396: [DEBG] tid 3331 thread name is timer::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:10.261 mod.rs:126: [INFO] encryption: none of key dictionary and file dictionary are found.
test_push_non_witness_availability 2022/10/19 17:38:10.261 mod.rs:509: [INFO] encryption is disabled.
test_push_non_witness_availability 2022/10/19 17:38:10.261 config.rs:267: [WARN] Memory allocator nodump is not supported, continue with default allocator
test_push_non_witness_availability-0 2022/10/19 17:38:10.261 thread.rs:396: [DEBG] tid 2863 thread name is sst-recovery::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:10.261 pipe_builder.rs:105: [INFO] Create raft log directory: /private/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_cluster4gRuIq/raft-engine
test_push_non_witness_availability 2022/10/19 17:38:10.262 engine.rs:91: [INFO] Recovering raft logs takes 659.208µs
test_push_non_witness_availability 2022/10/19 17:38:10.262 config.rs:678: [WARN] compaction guard is disabled due to region info provider not available
test_push_non_witness_availability 2022/10/19 17:38:10.262 config.rs:793: [WARN] compaction guard is disabled due to region info provider not available
test_push_non_witness_availability 2022/10/19 17:38:10.740 mod.rs:126: [INFO] encryption: none of key dictionary and file dictionary are found.
test_push_non_witness_availability 2022/10/19 17:38:10.740 mod.rs:509: [INFO] encryption is disabled.
test_push_non_witness_availability 2022/10/19 17:38:10.740 config.rs:267: [WARN] Memory allocator nodump is not supported, continue with default allocator
test_push_non_witness_availability-0 2022/10/19 17:38:10.740 thread.rs:396: [DEBG] tid 5459 thread name is sst-recovery::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:10.741 pipe_builder.rs:105: [INFO] Create raft log directory: /private/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_clusterEWUDn2/raft-engine
test_push_non_witness_availability 2022/10/19 17:38:10.742 engine.rs:91: [INFO] Recovering raft logs takes 1.142541ms
test_push_non_witness_availability 2022/10/19 17:38:10.742 config.rs:678: [WARN] compaction guard is disabled due to region info provider not available
test_push_non_witness_availability 2022/10/19 17:38:10.742 config.rs:793: [WARN] compaction guard is disabled due to region info provider not available
test_push_non_witness_availability 2022/10/19 17:38:11.165 mod.rs:126: [INFO] encryption: none of key dictionary and file dictionary are found.
test_push_non_witness_availability 2022/10/19 17:38:11.165 mod.rs:509: [INFO] encryption is disabled.
test_push_non_witness_availability 2022/10/19 17:38:11.165 config.rs:267: [WARN] Memory allocator nodump is not supported, continue with default allocator
test_push_non_witness_availability-0 2022/10/19 17:38:11.166 thread.rs:396: [DEBG] tid 10263 thread name is sst-recovery::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.166 pipe_builder.rs:105: [INFO] Create raft log directory: /private/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_clusterEciHMl/raft-engine
test_push_non_witness_availability 2022/10/19 17:38:11.167 engine.rs:91: [INFO] Recovering raft logs takes 1.265708ms
test_push_non_witness_availability 2022/10/19 17:38:11.168 config.rs:678: [WARN] compaction guard is disabled due to region info provider not available
test_push_non_witness_availability 2022/10/19 17:38:11.168 config.rs:793: [WARN] compaction guard is disabled due to region info provider not available
test_push_non_witness_availability 2022/10/19 17:38:11.669 cluster.rs:336: [DEBG] starting node 1
test_push_non_witness_availability 2022/10/19 17:38:11.670 cluster.rs:357: [DEBG] calling run node, node_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.671 config.rs:480: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_push_non_witness_availability-0 2022/10/19 17:38:11.671 thread.rs:396: [DEBG] tid 6431 thread name is test-pd-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.671 thread.rs:396: [DEBG] tid 5767 thread name is background::test_push_non_witness_availability-0
test_push_non_witness_availability-1 2022/10/19 17:38:11.671 thread.rs:396: [DEBG] tid 6171 thread name is background::test_push_non_witness_availability-1
test_push_non_witness_availability-0 2022/10/19 17:38:11.674 thread.rs:396: [DEBG] tid 5903 thread name is mock-collector-reg-handle::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.674 node.rs:235: [INFO] trying to bootstrap cluster, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, store_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.706 node.rs:244: [INFO] put store to PD, store: id: 1 address: "127.0.0.1:0" version: "6.2.0-alpha" peer_address: "127.0.0.1:0" status_address: "127.0.0.1:20180" git_hash: "Unknown git hash" start_timestamp: 1666172291 deploy_path: "/Users/ethercflow/workspace/tikv/target/debug/deps"
test_push_non_witness_availability 2022/10/19 17:38:11.707 node.rs:380: [INFO] initializing replication mode, store_id: 1, status: None
test_push_non_witness_availability 2022/10/19 17:38:11.707 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.708 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 2
test_push_non_witness_availability 2022/10/19 17:38:11.708 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 3
test_push_non_witness_availability 2022/10/19 17:38:11.708 node.rs:511: [INFO] start raft store thread, store_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:11.709 thread.rs:396: [DEBG] tid 8995 thread name is purge-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.710 thread.rs:396: [DEBG] tid 8451 thread name is cleanup-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.710 thread.rs:396: [DEBG] tid 8195 thread name is region-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.710 thread.rs:396: [DEBG] tid 7939 thread name is raftlog-fetch-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.710 thread.rs:396: [DEBG] tid 7683 thread name is refreash-config-worker::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.710 snap.rs:1393: [INFO] Initializing SnapManager, encryption is enabled: false
test_push_non_witness_availability 2022/10/19 17:38:11.712 peer.rs:264: [INFO] create peer, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.712 peer_storage.rs:295: [DEBG] creating storage on specified path, path: "/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_cluster4gRuIq/db", peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.713 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.714 raft.rs:2789: [DEBG] reset election timeout 0 -> 27 at 0, election_elapsed: 0, timeout: 27, prev_timeout: 0, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.714 raft.rs:1120: [INFO] became follower at term 5, term: 5, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.714 raft.rs:384: [INFO] newRaft, peers: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, last term: 5, last index: 5, applied: 5, commit: 5, term: 5, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.715 raw_node.rs:315: [INFO] RawNode created with id 1., id: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.715 peer.rs:1256: [DEBG] init commit group, peer_id: 1, region_id: 1, state: GlobalReplicationState { status: , group: StoreGroup { labels: {1: [], 2: [], 3: []}, label_ids: {}, stores: {}, label_key: "", version: 0, dirty: false }, group_buffer: [] }
test_push_non_witness_availability 2022/10/19 17:38:11.715 store.rs:1216: [INFO] start store, takes: 3.563417ms, merge_count: 0, applying_count: 0, tombstone_count: 0, region_count: 1, store_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.716 store.rs:1270: [INFO] cleans up garbage data, takes: 102.75µs, garbage_range_count: 2, store_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.719 thread.rs:396: [DEBG] tid 6915 thread name is steady-timer::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.719 thread.rs:396: [DEBG] tid 10755 thread name is raftstore-1-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.719 thread.rs:396: [DEBG] tid 21507 thread name is raftstore-1-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.720 thread.rs:396: [DEBG] tid 11011 thread name is apply-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.720 pool.rs:123: [DEBG] scheduling task CollectorReg
test_push_non_witness_availability 2022/10/19 17:38:11.720 thread.rs:396: [DEBG] tid 11267 thread name is apply-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.720 collector_reg.rs:58: [WARN] failed to register collector, err: channel has been closed
test_push_non_witness_availability 2022/10/19 17:38:11.720 thread.rs:396: [DEBG] tid 11523 thread name is stats-monitor::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.720 node.rs:339: [DEBG] node_id: 1 tmp: Some("/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_clusterNEXf0w")
test_push_non_witness_availability 2022/10/19 17:38:11.720 config.rs:480: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_push_non_witness_availability 2022/10/19 17:38:11.721 cluster.rs:362: [DEBG] node 1 started
test_push_non_witness_availability 2022/10/19 17:38:11.721 cluster.rs:336: [DEBG] starting node 2
test_push_non_witness_availability 2022/10/19 17:38:11.721 cluster.rs:357: [DEBG] calling run node, node_id: 2
test_push_non_witness_availability 2022/10/19 17:38:11.721 config.rs:480: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_push_non_witness_availability-0 2022/10/19 17:38:11.721 thread.rs:396: [DEBG] tid 11779 thread name is test-pd-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.721 thread.rs:396: [DEBG] tid 12035 thread name is background::test_push_non_witness_availability-0
test_push_non_witness_availability-1 2022/10/19 17:38:11.721 thread.rs:396: [DEBG] tid 12291 thread name is background::test_push_non_witness_availability-1
test_push_non_witness_availability-0 2022/10/19 17:38:11.722 thread.rs:396: [DEBG] tid 21251 thread name is mock-collector-reg-handle::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.722 node.rs:235: [INFO] trying to bootstrap cluster, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, store_id: 2
test_push_non_witness_availability 2022/10/19 17:38:11.753 node.rs:244: [INFO] put store to PD, store: id: 2 address: "127.0.0.1:0" version: "6.2.0-alpha" peer_address: "127.0.0.1:0" status_address: "127.0.0.1:20180" git_hash: "Unknown git hash" start_timestamp: 1666172291 deploy_path: "/Users/ethercflow/workspace/tikv/target/debug/deps"
test_push_non_witness_availability 2022/10/19 17:38:11.753 node.rs:380: [INFO] initializing replication mode, store_id: 2, status: None
test_push_non_witness_availability 2022/10/19 17:38:11.754 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.754 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 2
test_push_non_witness_availability 2022/10/19 17:38:11.754 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 3
test_push_non_witness_availability 2022/10/19 17:38:11.754 node.rs:511: [INFO] start raft store thread, store_id: 2
test_push_non_witness_availability-0 2022/10/19 17:38:11.754 thread.rs:396: [DEBG] tid 12547 thread name is purge-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.754 thread.rs:396: [DEBG] tid 12803 thread name is cleanup-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.755 thread.rs:396: [DEBG] tid 13315 thread name is raftlog-fetch-worker::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.755 snap.rs:1393: [INFO] Initializing SnapManager, encryption is enabled: false
test_push_non_witness_availability-0 2022/10/19 17:38:11.755 thread.rs:396: [DEBG] tid 13059 thread name is region-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.755 thread.rs:396: [DEBG] tid 13571 thread name is refreash-config-worker::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.755 peer.rs:264: [INFO] create peer, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.756 peer_storage.rs:295: [DEBG] creating storage on specified path, path: "/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_clusterEWUDn2/db", peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.756 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.756 raft.rs:2789: [DEBG] reset election timeout 0 -> 32 at 0, election_elapsed: 0, timeout: 32, prev_timeout: 0, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.756 raft.rs:1120: [INFO] became follower at term 5, term: 5, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.757 raft.rs:384: [INFO] newRaft, peers: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, last term: 5, last index: 5, applied: 5, commit: 5, term: 5, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.757 raw_node.rs:315: [INFO] RawNode created with id 2., id: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.757 peer.rs:1256: [DEBG] init commit group, peer_id: 2, region_id: 1, state: GlobalReplicationState { status: , group: StoreGroup { labels: {1: [], 2: [], 3: []}, label_ids: {}, stores: {}, label_key: "", version: 0, dirty: false }, group_buffer: [] }
test_push_non_witness_availability 2022/10/19 17:38:11.757 store.rs:1216: [INFO] start store, takes: 2.18825ms, merge_count: 0, applying_count: 0, tombstone_count: 0, region_count: 1, store_id: 2
test_push_non_witness_availability 2022/10/19 17:38:11.758 store.rs:1270: [INFO] cleans up garbage data, takes: 40.292µs, garbage_range_count: 2, store_id: 2
test_push_non_witness_availability 2022/10/19 17:38:11.759 thread.rs:396: [DEBG] tid 14339 thread name is raftstore-2-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.759 thread.rs:396: [DEBG] tid 14595 thread name is raftstore-2-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.759 thread.rs:396: [DEBG] tid 14851 thread name is apply-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.759 pool.rs:123: [DEBG] scheduling task CollectorReg
test_push_non_witness_availability 2022/10/19 17:38:11.759 collector_reg.rs:58: [WARN] failed to register collector, err: channel has been closed
test_push_non_witness_availability 2022/10/19 17:38:11.760 thread.rs:396: [DEBG] tid 15107 thread name is apply-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.760 node.rs:339: [DEBG] node_id: 2 tmp: Some("/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_cluster7TFzJT")
test_push_non_witness_availability 2022/10/19 17:38:11.760 config.rs:480: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_push_non_witness_availability 2022/10/19 17:38:11.760 thread.rs:396: [DEBG] tid 15363 thread name is stats-monitor::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.760 cluster.rs:362: [DEBG] node 2 started
test_push_non_witness_availability 2022/10/19 17:38:11.760 cluster.rs:336: [DEBG] starting node 3
test_push_non_witness_availability 2022/10/19 17:38:11.760 cluster.rs:357: [DEBG] calling run node, node_id: 3
test_push_non_witness_availability 2022/10/19 17:38:11.760 config.rs:480: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_push_non_witness_availability-0 2022/10/19 17:38:11.760 thread.rs:396: [DEBG] tid 20483 thread name is test-pd-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.760 thread.rs:396: [DEBG] tid 20227 thread name is background::test_push_non_witness_availability-0
test_push_non_witness_availability-1 2022/10/19 17:38:11.761 thread.rs:396: [DEBG] tid 19971 thread name is background::test_push_non_witness_availability-1
test_push_non_witness_availability-0 2022/10/19 17:38:11.761 thread.rs:396: [DEBG] tid 19715 thread name is mock-collector-reg-handle::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.761 node.rs:235: [INFO] trying to bootstrap cluster, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, store_id: 3
test_push_non_witness_availability 2022/10/19 17:38:11.791 node.rs:244: [INFO] put store to PD, store: id: 3 address: "127.0.0.1:0" version: "6.2.0-alpha" peer_address: "127.0.0.1:0" status_address: "127.0.0.1:20180" git_hash: "Unknown git hash" start_timestamp: 1666172291 deploy_path: "/Users/ethercflow/workspace/tikv/target/debug/deps"
test_push_non_witness_availability 2022/10/19 17:38:11.792 node.rs:380: [INFO] initializing replication mode, store_id: 3, status: None
test_push_non_witness_availability 2022/10/19 17:38:11.792 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.792 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 2
test_push_non_witness_availability 2022/10/19 17:38:11.792 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 3
test_push_non_witness_availability 2022/10/19 17:38:11.792 node.rs:511: [INFO] start raft store thread, store_id: 3
test_push_non_witness_availability-0 2022/10/19 17:38:11.793 thread.rs:396: [DEBG] tid 15619 thread name is purge-worker::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.793 snap.rs:1393: [INFO] Initializing SnapManager, encryption is enabled: false
test_push_non_witness_availability-0 2022/10/19 17:38:11.793 thread.rs:396: [DEBG] tid 15875 thread name is region-worker::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.795 peer.rs:264: [INFO] create peer, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.795 peer_storage.rs:295: [DEBG] creating storage on specified path, path: "/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_clusterEciHMl/db", peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:11.795 thread.rs:396: [DEBG] tid 19203 thread name is refreash-config-worker::test_push_non_witness_availability-0
test_push_non_witness_availability-0 2022/10/19 17:38:11.795 thread.rs:396: [DEBG] tid 19459 thread name is cleanup-worker::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.795 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.796 raft.rs:2789: [DEBG] reset election timeout 0 -> 44 at 0, election_elapsed: 0, timeout: 44, prev_timeout: 0, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.796 raft.rs:1120: [INFO] became follower at term 5, term: 5, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.796 raft.rs:384: [INFO] newRaft, peers: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, last term: 5, last index: 5, applied: 5, commit: 5, term: 5, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:11.797 raw_node.rs:315: [INFO] RawNode created with id 3., id: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:11.797 thread.rs:396: [DEBG] tid 16131 thread name is raftlog-fetch-worker::test_push_non_witness_availability-0
test_push_non_witness_availability 2022/10/19 17:38:11.797 peer.rs:1256: [DEBG] init commit group, peer_id: 3, region_id: 1, state: GlobalReplicationState { status: , group: StoreGroup { labels: {1: [], 2: [], 3: []}, label_ids: {}, stores: {}, label_key: "", version: 0, dirty: false }, group_buffer: [] }
test_push_non_witness_availability 2022/10/19 17:38:11.797 store.rs:1216: [INFO] start store, takes: 3.00475ms, merge_count: 0, applying_count: 0, tombstone_count: 0, region_count: 1, store_id: 3
test_push_non_witness_availability 2022/10/19 17:38:11.798 store.rs:1270: [INFO] cleans up garbage data, takes: 32.167µs, garbage_range_count: 2, store_id: 3
test_push_non_witness_availability 2022/10/19 17:38:11.799 thread.rs:396: [DEBG] tid 16643 thread name is raftstore-3-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.799 thread.rs:396: [DEBG] tid 16899 thread name is raftstore-3-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.799 pool.rs:123: [DEBG] scheduling task CollectorReg
test_push_non_witness_availability 2022/10/19 17:38:11.799 collector_reg.rs:58: [WARN] failed to register collector, err: channel has been closed
test_push_non_witness_availability 2022/10/19 17:38:11.799 thread.rs:396: [DEBG] tid 18691 thread name is apply-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.799 thread.rs:396: [DEBG] tid 18435 thread name is apply-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.799 node.rs:339: [DEBG] node_id: 3 tmp: Some("/var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_clusterSxLway")
test_push_non_witness_availability 2022/10/19 17:38:11.799 config.rs:480: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_push_non_witness_availability 2022/10/19 17:38:11.799 thread.rs:396: [DEBG] tid 17155 thread name is stats-monitor::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:11.799 cluster.rs:362: [DEBG] node 3 started
test_push_non_witness_availability 2022/10/19 17:38:11.811 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.824 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.842 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.854 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.866 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.877 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.891 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.904 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.915 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.929 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.942 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.957 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.970 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.984 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:11.996 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:12.009 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:12.021 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:12.034 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:12.047 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:12.055 raft.rs:1550: [INFO] starting a new election, term: 5, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.055 raft.rs:1170: [INFO] became pre-candidate at term 5, term: 5, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.056 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgRequestPreVote to: 2 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.056 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgRequestPreVote to: 3 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.056 raft.rs:1299: [INFO] broadcasting vote request, to: [2, 3], log_index: 5, log_term: 5, term: 5, type: MsgRequestPreVote, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.057 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.057 peer.rs:2441: [DEBG] update leader info, peer_id: 1, term: 5, leader_id: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.058 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 18, msg_type: MsgRequestPreVote, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.058 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 18, msg_type: MsgRequestPreVote, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.059 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgRequestPreVote, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.059 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgRequestPreVote, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.059 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.059 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 5, msg type: MsgRequestPreVote, term: 5, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.059 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgRequestPreVoteResponse to: 1 term: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.060 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 5, msg type: MsgRequestPreVote, term: 5, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.060 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgRequestPreVoteResponse to: 1 term: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.060 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.060 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.060 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestPreVoteResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.061 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestPreVoteResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.061 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgRequestPreVoteResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.061 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.061 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.061 raft.rs:2212: [INFO] received votes response, term: 5, type: MsgRequestPreVoteResponse, approvals: 2, rejections: 0, from: 3, vote: true, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.062 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_push_non_witness_availability 2022/10/19 17:38:12.062 raft.rs:2789: [DEBG] reset election timeout 27 -> 31 at 0, election_elapsed: 0, timeout: 31, prev_timeout: 27, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.062 raft.rs:1144: [INFO] became candidate at term 6, term: 6, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.062 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgRequestVote to: 2 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.062 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgRequestVote to: 3 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.062 raft.rs:1299: [INFO] broadcasting vote request, to: [2, 3], log_index: 5, log_term: 5, term: 6, type: MsgRequestVote, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.063 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.063 peer.rs:2441: [DEBG] update leader info, peer_id: 1, term: 6, leader_id: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.064 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 18, msg_type: MsgRequestVote, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.064 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 3, msg_size: 18, msg_type: MsgRequestVote, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.064 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgRequestVote, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.065 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgRequestVote, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.065 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.001053625s, send: 0.000380667s, callback: 0s thread: sync-writer, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.065 raft.rs:1364: [INFO] received a message with higher term from 1, msg type: MsgRequestVote, message_term: 6, term: 5, from: 1, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.065 raft.rs:1364: [INFO] received a message with higher term from 1, msg type: MsgRequestVote, message_term: 6, term: 5, from: 1, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.065 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 4
test_push_non_witness_availability 2022/10/19 17:38:12.065 raft.rs:2789: [DEBG] reset election timeout 32 -> 40 at 24, election_elapsed: 24, timeout: 40, prev_timeout: 32, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.065 raft.rs:1120: [INFO] became follower at term 6, term: 6, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.066 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 6, msg type: MsgRequestVote, term: 6, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.066 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgRequestVoteResponse to: 1 term: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.066 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgRequestPreVoteResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.066 raft.rs:2789: [DEBG] reset election timeout 44 -> 28 at 21, election_elapsed: 21, timeout: 28, prev_timeout: 44, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.066 raft.rs:1120: [INFO] became follower at term 6, term: 6, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.066 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 6, msg type: MsgRequestVote, term: 6, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.067 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgRequestVoteResponse to: 1 term: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.067 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.067 peer.rs:2441: [DEBG] update leader info, peer_id: 2, term: 6, leader_id: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.067 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.067 peer.rs:2441: [DEBG] update leader info, peer_id: 3, term: 6, leader_id: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.067 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestVoteResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.067 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.068 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgRequestVoteResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.068 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestVoteResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.068 raft.rs:2212: [INFO] received votes response, term: 6, type: MsgRequestVoteResponse, approvals: 2, rejections: 0, from: 2, vote: true, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.068 raft.rs:2789: [DEBG] reset election timeout 31 -> 31 at 0, election_elapsed: 0, timeout: 31, prev_timeout: 31, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.068 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.068 raft.rs:1228: [INFO] became leader at term 6, term: 6, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.068 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppend to: 2 log_term: 5 index: 5 entries { term: 6 index: 6 } commit: 5, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.069 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgAppend to: 3 log_term: 5 index: 5 entries { term: 6 index: 6 } commit: 5, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.069 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.069 peer.rs:3661: [DEBG] update read progress, progress: Term(6), peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.069 peer.rs:3661: [DEBG] update read progress, progress: LeaderLease(RemoteLease { expired_time: Timespec { sec: 1648711, nsec: 224395264 }, term: 6 }), peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.069 peer.rs:2318: [DEBG] becomes leader with lease, lease: Lease { valid: Timespec { sec: 1648711, nsec: 225241375 } }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.069 peer.rs:5656: [INFO] require updating max ts, initial_status: 25769803778, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.069 pool.rs:123: [DEBG] scheduling task update the max timestamp for region 1 in the concurrency manager
test_push_non_witness_availability 2022/10/19 17:38:12.070 peer.rs:2441: [DEBG] update leader info, peer_id: 1, term: 6, leader_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.070 pd.rs:1790: [DEBG] executing task, task: update the max timestamp for region 1 in the concurrency manager
test_push_non_witness_availability 2022/10/19 17:38:12.070 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 20, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.070 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 20, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.070 pd.rs:1631: [INFO] succeed to update max timestamp, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.070 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.070 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.070 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.070 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 5, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 5, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 peer.rs:2163: [DEBG] peer start pending, time: Instant { t: 39569063684473 }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 peer.rs:2163: [DEBG] peer start pending, time: Instant { t: 39569063691703 }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 peer.rs:2441: [DEBG] update leader info, peer_id: 2, term: 6, leader_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 peer.rs:2441: [DEBG] update leader info, peer_id: 3, term: 6, leader_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.071 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.071 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.071 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.072 raft_log.rs:536: [DEBG] persisted index 6, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.072 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.072 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.072 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 4
test_push_non_witness_availability 2022/10/19 17:38:12.072 raft_log.rs:536: [DEBG] persisted index 6, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.072 raft_log.rs:536: [DEBG] persisted index 6, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.072 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgRequestVoteResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.072 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.072 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.073 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.073 raft_log.rs:500: [DEBG] committing index 6, index: 6, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.073 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgAppend to: 3 log_term: 6 index: 6 commit: 6, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.073 peer.rs:2212: [DEBG] peer has caught up logs, takes: 0.002085166, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.073 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.073 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.073 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.073 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppend to: 2 log_term: 6 index: 6 commit: 6, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.073 peer.rs:2212: [DEBG] peer has caught up logs, takes: 0.002927333, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.074 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.074 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.074 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.074 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 14, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.074 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.074 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.074 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.074 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.074 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.074 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.075 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.075 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.075 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.075 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 6 commit_index: 6 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.075 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.075 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.076 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.076 peer.rs:3661: [DEBG] update read progress, progress: AppliedTerm(6), peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.076 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.076 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 6 commit_index: 6 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.076 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.076 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 6 commit_index: 6 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.076 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.077 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppend to: 2 log_term: 6 index: 6 entries { term: 6 index: 7 data: 0A0E08011204080110012A04080110011215080322110A0764656661756C7412026B311A027631 } commit: 6, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.077 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgAppend to: 3 log_term: 6 index: 6 entries { term: 6 index: 7 data: 0A0E08011204080110012A04080110011215080322110A0764656661756C7412026B311A027631 } commit: 6, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.077 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.077 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 61, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.077 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 61, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.077 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.077 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 7 commit: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 7 commit: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 raft_log.rs:536: [DEBG] persisted index 7, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.078 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.079 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.079 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.079 raft_log.rs:536: [DEBG] persisted index 7, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.079 raft_log.rs:536: [DEBG] persisted index 7, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.079 raft_log.rs:500: [DEBG] committing index 7, index: 7, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.079 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.079 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.079 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.079 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.079 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.080 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.080 apply.rs:1277: [DEBG] applied command, index: 7, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.080 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.080 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 7 commit_index: 7 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 5, delete_keys_hint: 0, written_bytes: 47, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.080 peer.rs:4851: [INFO] propose transfer leader, peer: id: 2 store_id: 2, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.080 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 7, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 8, msg_type: MsgTransferLeader, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 7, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.081 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 7, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.082 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.082 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.082 apply.rs:1277: [DEBG] applied command, index: 7, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.082 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.082 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.082 apply.rs:1277: [DEBG] applied command, index: 7, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.082 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.082 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.082 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 7 commit_index: 7 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 5, delete_keys_hint: 0, written_bytes: 47, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgTransferLeader, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 7 commit_index: 7 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 5, delete_keys_hint: 0, written_bytes: 47, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 peer.rs:4851: [INFO] propose transfer leader, peer: id: 2 store_id: 2, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgTransferLeader, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 7, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.083 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 8, msg_type: MsgTransferLeader, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 7, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 3 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 7, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.084 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgTransferLeader, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:4038: [INFO] transfer leader, peer: id: 2 store_id: 2, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgTransferLeader, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 raft.rs:1904: [INFO] [term 6] starts to transfer leadership to 2, lead_transferee: 2, term: 6, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgTimeoutNow to: 2, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgTransferLeader, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 raft.rs:1917: [INFO] sends MsgTimeoutNow to 2 immediately as 2 already has up-to-date log, lead_transferee: 2, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.085 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 8, msg_type: MsgTimeoutNow, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgTimeoutNow, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 raft.rs:2341: [INFO] [term 6] received MsgTimeoutNow from 1 and starts an election to get leadership., from: 1, term: 6, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 raft.rs:1550: [INFO] starting a new election, term: 6, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 raft.rs:2789: [DEBG] reset election timeout 40 -> 29 at 0, election_elapsed: 0, timeout: 29, prev_timeout: 40, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 raft.rs:1144: [INFO] became candidate at term 7, term: 7, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 7, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgRequestVote to: 1 term: 7 log_term: 6 index: 7 commit: 7 commit_term: 6 context: 43616D706169676E5472616E73666572, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.086 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgTransferLeader, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgRequestVote to: 3 term: 7 log_term: 6 index: 7 commit: 7 commit_term: 6 context: 43616D706169676E5472616E73666572, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 peer.rs:3249: [INFO] propose transfer leader command, to: id: 2 store_id: 2, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 raft.rs:1299: [INFO] broadcasting vote request, to: [1, 3], log_index: 7, log_term: 6, term: 7, type: MsgRequestVote, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 raft.rs:2021: [DEBG] [term 6] transfer leadership to 2 is in progress; dropping proposal, lead_transferee: 2, term: 6, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 peer.rs:4851: [INFO] propose transfer leader, peer: id: 2 store_id: 2, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 peer.rs:2441: [DEBG] update leader info, peer_id: 2, term: 7, leader_id: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 7, to: 3, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 36, msg_type: MsgRequestVote, peer_id: 2, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.087 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.087 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 3, msg_size: 36, msg_type: MsgRequestVote, peer_id: 2, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.088 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgRequestVote, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.088 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 raft.rs:1364: [INFO] received a message with higher term from 2, msg type: MsgRequestVote, message_term: 7, term: 6, from: 2, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 raft.rs:2789: [DEBG] reset election timeout 28 -> 28 at 0, election_elapsed: 0, timeout: 28, prev_timeout: 28, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.088 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 raft.rs:1120: [INFO] became follower at term 7, term: 7, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 8, msg_type: MsgTransferLeader, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 raft.rs:1565: [INFO] [logterm: 6, index: 7, vote: 0] cast vote for 2 [logterm: 6, index: 7] at term 7, msg type: MsgRequestVote, term: 7, msg_index: 7, msg_term: 6, from: 2, vote: 0, log_index: 7, log_term: 6, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgRequestVoteResponse to: 2 term: 7, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 5 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.089 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgRequestVote, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 peer.rs:2441: [DEBG] update leader info, peer_id: 3, term: 7, leader_id: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.089 raft.rs:1364: [INFO] received a message with higher term from 2, msg type: MsgRequestVote, message_term: 7, term: 6, from: 2, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 8, msg_type: MsgRequestVoteResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.090 raft.rs:2789: [DEBG] reset election timeout 31 -> 33 at 1, election_elapsed: 1, timeout: 33, prev_timeout: 31, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.090 raft.rs:1120: [INFO] became follower at term 7, term: 7, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 raft.rs:1565: [INFO] [logterm: 6, index: 7, vote: 0] cast vote for 2 [logterm: 6, index: 7] at term 7, msg type: MsgRequestVote, term: 7, msg_index: 7, msg_term: 6, from: 2, vote: 0, log_index: 7, log_term: 6, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgRequestVoteResponse to: 2 term: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.090 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgTransferLeader, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:2441: [DEBG] update leader info, peer_id: 1, term: 7, leader_id: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1, to: 1, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 8, msg_type: MsgRequestVoteResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.091 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgRequestVoteResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 raft.rs:2212: [INFO] received votes response, term: 7, type: MsgRequestVoteResponse, approvals: 2, rejections: 0, from: 3, vote: true, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 raft.rs:2789: [DEBG] reset election timeout 29 -> 43 at 0, election_elapsed: 0, timeout: 43, prev_timeout: 29, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 cluster.rs:595: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {1: (id: 1 store_id: 1, [1])}
test_push_non_witness_availability 2022/10/19 17:38:12.092 raft.rs:1228: [INFO] became leader at term 7, term: 7, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 6 index: 7 entries { term: 7 index: 8 } commit: 7, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 6 index: 7 entries { term: 7 index: 8 } commit: 7, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.092 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgRequestVoteResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:3661: [DEBG] update read progress, progress: Term(7), peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:3661: [DEBG] update read progress, progress: LeaderLease(RemoteLease { expired_time: Timespec { sec: 1648711, nsec: 248512512 }, term: 7 }), peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:2318: [DEBG] becomes leader with lease, lease: Lease { valid: Timespec { sec: 1648711, nsec: 248990375 } }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:5656: [INFO] require updating max ts, initial_status: 30064771074, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 pool.rs:123: [DEBG] scheduling task update the max timestamp for region 1 in the concurrency manager
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:2441: [DEBG] update leader info, peer_id: 2, term: 7, leader_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.093 pd.rs:1790: [DEBG] executing task, task: update the max timestamp for region 1 in the concurrency manager
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 20, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.093 pd.rs:1631: [INFO] succeed to update max timestamp, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 20, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.093 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 8 commit: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 8 commit: 7, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 peer.rs:2163: [DEBG] peer start pending, time: Instant { t: 39569064237824 }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 peer.rs:2163: [DEBG] peer start pending, time: Instant { t: 39569064243276 }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 peer.rs:2441: [DEBG] update leader info, peer_id: 1, term: 7, leader_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 peer.rs:2441: [DEBG] update leader info, peer_id: 3, term: 7, leader_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.094 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.094 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.094 raft_log.rs:536: [DEBG] persisted index 8, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.094 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.094 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.095 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.095 raft_log.rs:536: [DEBG] persisted index 8, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 raft_log.rs:536: [DEBG] persisted index 8, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 raft_log.rs:500: [DEBG] committing index 8, index: 8, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 8 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 peer.rs:2212: [DEBG] peer has caught up logs, takes: 0.0015545, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.095 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.095 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.095 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 8 commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.095 peer.rs:2212: [DEBG] peer has caught up logs, takes: 0.001679166, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.096 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.096 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.096 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 8 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 8 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.096 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 8 commit_index: 8 commit_term: 7 truncated_state { index: 5 term: 5 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.097 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.097 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.097 apply.rs:693: [WARN] [store 3] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.097 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.097 peer.rs:3661: [DEBG] update read progress, progress: AppliedTerm(7), peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.097 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 8 commit_index: 8 commit_term: 7 truncated_state { index: 5 term: 5 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.097 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 8 commit_index: 8 commit_term: 7 truncated_state { index: 5 term: 5 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.097 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.097 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.101 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.103 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.105 pd.rs:928: [DEBG] [region 1] schedule operator AddPeer { peer: Left(id: 3 store_id: 3 is_witness: true), policy: TillSuccess }
test_push_non_witness_availability 2022/10/19 17:38:12.105 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.105 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.105 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.105 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.105 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.105 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.105 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.106 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.113 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.114 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.127 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.127 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.127 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.127 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.127 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.128 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.135 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.136 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.149 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.149 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.149 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.149 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.149 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.149 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.150 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.156 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.158 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.158 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.171 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.171 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.171 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.171 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.172 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.173 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.182 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.182 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.195 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.195 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.195 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.196 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.196 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.196 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.196 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Left(id: 3 store_id: 3 is_witness: true), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }
test_push_non_witness_availability 2022/10/19 17:38:12.196 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.196 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.196 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.196 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.197 pd.rs:1458: [INFO] try to change peer, changes: [peer { id: 3 store_id: 3 is_witness: true }], region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 peer.rs:4946: [INFO] propose conf change peer, kind: Simple, changes: [peer { id: 3 store_id: 3 is_witness: true }], peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.197 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 8 entries { entry_type: EntryConfChangeV2 term: 7 index: 9 data: 120210031A200A0E08011204080210022A04080110011A0E080B5A0A0A081206080310032001 context: 01 } commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.198 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 8 entries { entry_type: EntryConfChangeV2 term: 7 index: 9 data: 120210031A200A0E08011204080210022A04080110011A0E080B5A0A0A081206080310032001 context: 01 } commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.198 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.198 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.198 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.198 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 65, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.198 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 65, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.198 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 9 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 9 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.199 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.200 raft_log.rs:536: [DEBG] persisted index 9, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.200 raft_log.rs:536: [DEBG] persisted index 9, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.200 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.200 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.200 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.200 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.200 raft_log.rs:536: [DEBG] persisted index 9, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.200 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 9 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.200 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 9 commit: 8, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 raft_log.rs:500: [DEBG] committing index 9, index: 9, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 9 commit: 9, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 9 commit: 9, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.201 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 9 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 9 commit: 8, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 apply.rs:1535: [INFO] execute admin command, command: cmd_type: ChangePeerV2 change_peer_v2 { changes { peer { id: 3 store_id: 3 is_witness: true } } }, index: 9, term: 7, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.202 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 4 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.203 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 apply.rs:2090: [INFO] exec ConfChangeV2, epoch: conf_ver: 1 version: 1, kind: Simple, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.203 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 9 commit: 9, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 apply.rs:2284: [INFO] conf change successfully, current region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, original region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, changes: [peer { id: 3 store_id: 3 is_witness: true }], peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 9 commit: 9, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 peer_storage.rs:1140: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } }, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 apply.rs:1535: [INFO] execute admin command, command: cmd_type: ChangePeerV2 change_peer_v2 { changes { peer { id: 3 store_id: 3 is_witness: true } } }, index: 9, term: 7, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.204 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.204 apply.rs:1277: [DEBG] applied command, index: 9, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.205 apply.rs:1535: [INFO] execute admin command, command: cmd_type: ChangePeerV2 change_peer_v2 { changes { peer { id: 3 store_id: 3 is_witness: true } } }, index: 9, term: 7, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.205 apply.rs:2090: [INFO] exec ConfChangeV2, epoch: conf_ver: 1 version: 1, kind: Simple, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.205 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.205 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.205 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.206 apply.rs:2090: [INFO] exec ConfChangeV2, epoch: conf_ver: 1 version: 1, kind: Simple, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.206 apply.rs:2284: [INFO] conf change successfully, current region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, original region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, changes: [peer { id: 3 store_id: 3 is_witness: true }], peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.206 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.206 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.206 apply.rs:2284: [INFO] conf change successfully, current region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, original region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, changes: [peer { id: 3 store_id: 3 is_witness: true }], peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.206 peer_storage.rs:1140: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } }, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.206 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.224 peer_storage.rs:1140: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } }, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.225 apply.rs:1277: [DEBG] applied command, index: 9, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.225 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.225 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.225 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 22
test_push_non_witness_availability 2022/10/19 17:38:12.225 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 18
test_push_non_witness_availability 2022/10/19 17:38:12.226 apply.rs:1277: [DEBG] applied command, index: 9, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.226 pool.rs:123: [DEBG] scheduling task compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(2.046417ms), store_process_duration: Some(26.084µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.244 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.244 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 39
test_push_non_witness_availability-0 2022/10/19 17:38:12.245 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(2.046417ms), store_process_duration: Some(26.084µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.245 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 9 commit_index: 9 commit_term: 7 truncated_state { index: 5 term: 5 }, applied_term: 7, exec_res: [ChangePeer(ChangePeer { index: 9, conf_change: changes { node_id: 3 } context: 0A0E08011204080210022A04080110011A0E080B5A0A0A081206080310032001, changes: [peer { id: 3 store_id: 3 is_witness: true }], region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.262 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 9 commit_index: 9 commit_term: 7 truncated_state { index: 5 term: 5 }, applied_term: 7, exec_res: [ChangePeer(ChangePeer { index: 9, conf_change: changes { node_id: 3 } context: 0A0E08011204080210022A04080110011A0E080B5A0A0A081206080310032001, changes: [peer { id: 3 store_id: 3 is_witness: true }], region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.263 apply.rs:693: [WARN] [store 3] handle ready 1 committed entries, takes: 58
test_push_non_witness_availability 2022/10/19 17:38:12.263 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 9 commit_index: 9 commit_term: 7 truncated_state { index: 5 term: 5 }, applied_term: 7, exec_res: [ChangePeer(ChangePeer { index: 9, conf_change: changes { node_id: 3 } context: 0A0E08011204080210022A04080110011A0E080B5A0A0A081206080310032001, changes: [peer { id: 3 store_id: 3 is_witness: true }], region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.264 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.264 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.264 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.264 peer.rs:3661: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }), peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.264 peer.rs:3661: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }), peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.265 peer.rs:3787: [INFO] notify pd with change peer region, region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.265 peer.rs:3661: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }), peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.265 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.265 pool.rs:123: [DEBG] scheduling task Destroy 1 [7A, 7B)
test_push_non_witness_availability 2022/10/19 17:38:12.265 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 9, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.265 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 9, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.265 region.rs:602: [INFO] register deleting data in range, end_key: 7B, start_key: 7A, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.265 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.266 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.266 pd.rs:642: [DEBG] region changed, leader: id: 2 store_id: 2, to: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, from: [id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }]
test_push_non_witness_availability 2022/10/19 17:38:12.266 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.266 region.rs:636: [INFO] delete data in range because of stale, end_key: 7B, start_key: 7A, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.266 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.266 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.266 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 9, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.267 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.267 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.267 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 9, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.267 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.285 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 40
test_push_non_witness_availability 2022/10/19 17:38:12.285 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.286 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 19
test_push_non_witness_availability 2022/10/19 17:38:12.286 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.286 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.286 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 9 entries { term: 7 index: 10 data: 0A0808011204080210021A080803220408081007 } commit: 9, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.286 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 9 entries { term: 7 index: 10 data: 0A0808011204080210021A080803220408081007 } commit: 9, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.286 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 19
test_push_non_witness_availability 2022/10/19 17:38:12.287 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 9, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.287 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 9, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.287 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.287 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.287 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 10 commit: 9, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.287 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.287 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 42, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.288 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 42, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.288 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.288 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.288 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.288 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 10 commit: 9, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.288 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.288 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 10 commit: 9, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.289 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.289 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.289 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.289 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.289 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.289 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.289 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.290 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.290 raft_log.rs:536: [DEBG] persisted index 10, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.290 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.290 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.290 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 9, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.290 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.290 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 10 commit: 9, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.290 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.290 pool.rs:123: [DEBG] scheduling task compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(24.731208ms), store_process_duration: Some(4.23125ms), store_write_duration: Some(161.583µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.291 raft_log.rs:536: [DEBG] persisted index 10, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.291 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.291 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.291 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 9, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.291 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.291 raft_log.rs:536: [DEBG] persisted index 10, raft_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.291 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(24.731208ms), store_process_duration: Some(4.23125ms), store_write_duration: Some(161.583µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.291 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.292 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.292 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 5 messages and 0 snapshots, takes: 5
test_push_non_witness_availability 2022/10/19 17:38:12.292 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.292 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.292 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.292 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 10 commit: 9, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.292 peer.rs:2212: [DEBG] peer has caught up logs, takes: 0.027672958, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.292 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.293 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.293 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.293 raft_log.rs:500: [DEBG] committing index 10, index: 10, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.293 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.293 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.293 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.293 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.293 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.293 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 10 commit: 9, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 apply.rs:3010: [DEBG] [region 1] 2 compact log entries to prior to 8
test_push_non_witness_availability 2022/10/19 17:38:12.294 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 apply.rs:1277: [DEBG] applied command, index: 10, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 10 commit_index: 10 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [CompactLog { state: index: 8 term: 7, first_index: 6 }], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.294 peer.rs:2529: [DEBG] scheduling raft log gc task, task: GC Raft Logs [region: 1, from: 0, to: 9, has_cb: false], peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.295 pool.rs:123: [DEBG] scheduling task GC Raft Logs [region: 1, from: 0, to: 9, has_cb: false]
test_push_non_witness_availability 2022/10/19 17:38:12.295 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.297 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.298 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.299 pool.rs:123: [DEBG] scheduling task compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(23.917µs), store_process_duration: Some(7.792µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:12.300 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(23.917µs), store_process_duration: Some(7.792µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.300 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.300 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.312 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 10, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.312 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 10, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.312 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.313 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.314 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.314 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.314 apply.rs:3010: [DEBG] [region 1] 3 compact log entries to prior to 8
test_push_non_witness_availability 2022/10/19 17:38:12.314 apply.rs:3010: [DEBG] [region 1] 1 compact log entries to prior to 8
test_push_non_witness_availability 2022/10/19 17:38:12.314 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.314 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.314 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.314 apply.rs:1277: [DEBG] applied command, index: 10, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.314 apply.rs:1277: [DEBG] applied command, index: 10, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.315 apply.rs:693: [WARN] [store 3] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.315 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.315 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 10 commit_index: 10 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [CompactLog { state: index: 8 term: 7, first_index: 6 }], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.315 peer.rs:2529: [DEBG] scheduling raft log gc task, task: GC Raft Logs [region: 1, from: 0, to: 9, has_cb: false], peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.315 pool.rs:123: [DEBG] scheduling task GC Raft Logs [region: 1, from: 0, to: 9, has_cb: false]
test_push_non_witness_availability 2022/10/19 17:38:12.315 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.315 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 10 commit_index: 10 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [CompactLog { state: index: 8 term: 7, first_index: 6 }], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.316 peer.rs:2529: [DEBG] scheduling raft log gc task, task: GC Raft Logs [region: 1, from: 0, to: 9, has_cb: false], peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.316 pool.rs:123: [DEBG] scheduling task GC Raft Logs [region: 1, from: 0, to: 9, has_cb: false]
test_push_non_witness_availability 2022/10/19 17:38:12.321 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.322 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.327 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.335 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 10, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.335 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 10, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.335 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.335 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.336 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.337 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.337 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.337 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.346 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.346 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.359 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 10, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.359 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 10, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.359 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.360 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.360 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.360 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.360 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.360 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.360 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.360 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.361 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.361 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.361 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.361 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.361 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.361 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.361 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.370 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.370 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.378 pd.rs:928: [DEBG] [region 1] schedule operator AddPeer { peer: Left(id: 3 store_id: 3 role: Learner), policy: TillSuccess }
test_push_non_witness_availability 2022/10/19 17:38:12.383 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 10, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.383 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 10, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.384 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.384 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.384 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.384 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.384 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.384 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.385 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.385 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.385 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.385 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.385 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.385 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.386 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.386 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.386 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.389 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.394 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.395 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.404 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.404 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.405 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Left(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }
test_push_non_witness_availability-0 2022/10/19 17:38:12.405 pd.rs:1458: [INFO] try to change peer, changes: [peer { id: 3 store_id: 3 role: Learner } change_type: AddLearnerNode], region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.406 peer.rs:4946: [INFO] propose conf change peer, kind: Simple, changes: [change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner }], peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.406 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 10 entries { entry_type: EntryConfChangeV2 term: 7 index: 11 data: 1204080210031A220A0E08011204080210022A04080210011A10080B5A0C0A0A08021206080310031801 context: 01 } commit: 10, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.406 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 10 entries { entry_type: EntryConfChangeV2 term: 7 index: 11 data: 1204080210031A220A0E08011204080210022A04080210011A10080B5A0C0A0A08021206080310031801 context: 01 } commit: 10, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.407 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.407 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 69, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.407 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.407 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 69, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.407 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 commit: 10, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.408 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.408 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.408 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 commit: 10, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.408 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.408 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.408 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.408 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.409 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.001068417s, send: 0.000001375s, callback: 0s thread: sync-writer, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.409 raft_log.rs:536: [DEBG] persisted index 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.409 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.409 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.410 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.410 raft_log.rs:536: [DEBG] persisted index 11, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.410 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.410 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 10, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.410 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 10, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.410 raft_log.rs:536: [DEBG] persisted index 11, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.411 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.411 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.411 raft_log.rs:500: [DEBG] committing index 11, index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.411 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 11 commit: 11, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.411 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 11 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.411 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.412 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.412 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.412 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.412 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.412 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.412 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.413 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.413 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.413 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 10, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.413 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.413 apply.rs:1535: [INFO] execute admin command, command: cmd_type: ChangePeerV2 change_peer_v2 { changes { change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner } } }, index: 11, term: 7, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.413 apply.rs:2090: [INFO] exec ConfChangeV2, epoch: conf_ver: 2 version: 1, kind: Simple, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.414 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 4 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:12.414 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.414 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.414 apply.rs:2284: [INFO] conf change successfully, current region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, original region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, changes: [change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner }], peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.414 peer_storage.rs:1140: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner } }, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.414 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.415 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.415 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.415 apply.rs:1277: [DEBG] applied command, index: 11, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.415 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.415 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.416 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.416 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.416 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 commit: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.416 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 commit: 11, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.416 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.416 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.435 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 11 commit_index: 11 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [ChangePeer(ChangePeer { index: 11, conf_change: changes { change_type: AddLearnerNode node_id: 3 } context: 0A0E08011204080210022A04080210011A10080B5A0C0A0A08021206080310031801, changes: [change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner }], region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.436 apply.rs:1535: [INFO] execute admin command, command: cmd_type: ChangePeerV2 change_peer_v2 { changes { change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner } } }, index: 11, term: 7, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.436 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 22
test_push_non_witness_availability 2022/10/19 17:38:12.436 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.436 apply.rs:1535: [INFO] execute admin command, command: cmd_type: ChangePeerV2 change_peer_v2 { changes { change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner } } }, index: 11, term: 7, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.436 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.436 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2} }, outgoing: Configuration { voters: {} } }, learners: {3}, learners_next: {}, auto_leave: false }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.437 apply.rs:2090: [INFO] exec ConfChangeV2, epoch: conf_ver: 2 version: 1, kind: Simple, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.437 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.01837575s, send: 0.001195458s, callback: 0s thread: sync-writer, takes: 18
test_push_non_witness_availability 2022/10/19 17:38:12.437 apply.rs:2090: [INFO] exec ConfChangeV2, epoch: conf_ver: 2 version: 1, kind: Simple, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.437 apply.rs:2284: [INFO] conf change successfully, current region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, original region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, changes: [change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner }], peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.437 peer.rs:3661: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }), peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.438 apply.rs:2284: [INFO] conf change successfully, current region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, original region: id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, changes: [change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner }], peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.438 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 22
test_push_non_witness_availability 2022/10/19 17:38:12.438 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 21
test_push_non_witness_availability 2022/10/19 17:38:12.438 peer_storage.rs:1140: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner } }, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.438 peer.rs:3787: [INFO] notify pd with change peer region, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.438 peer_storage.rs:1140: [DEBG] writing merge state, state: state: Unavailable region { id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner } }, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.438 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.439 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.439 apply.rs:1277: [DEBG] applied command, index: 11, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.439 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.439 apply.rs:1277: [DEBG] applied command, index: 11, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.440 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 11, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.458 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.459 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 23
test_push_non_witness_availability 2022/10/19 17:38:12.477 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 11 commit_index: 11 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [ChangePeer(ChangePeer { index: 11, conf_change: changes { change_type: AddLearnerNode node_id: 3 } context: 0A0E08011204080210022A04080210011A10080B5A0C0A0A08021206080310031801, changes: [change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner }], region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.478 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.478 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.479 apply.rs:693: [WARN] [store 3] handle ready 1 committed entries, takes: 61
test_push_non_witness_availability 2022/10/19 17:38:12.479 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 11 commit_index: 11 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [ChangePeer(ChangePeer { index: 11, conf_change: changes { change_type: AddLearnerNode node_id: 3 } context: 0A0E08011204080210022A04080210011A10080B5A0C0A0A08021206080310031801, changes: [change_type: AddLearnerNode peer { id: 3 store_id: 3 role: Learner }], region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 86, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.480 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2} }, outgoing: Configuration { voters: {} } }, learners: {3}, learners_next: {}, auto_leave: false }, raft_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.481 pd.rs:642: [DEBG] region changed, leader: id: 2 store_id: 2, to: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, from: [id: 1 region_epoch { conf_ver: 2 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }]
test_push_non_witness_availability-0 2022/10/19 17:38:12.481 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:12.481 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2} }, outgoing: Configuration { voters: {} } }, learners: {3}, learners_next: {}, auto_leave: false }, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.481 peer.rs:3661: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }), peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.482 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.482 peer.rs:3661: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }), peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.482 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.482 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.482 peer.rs:3711: [DEBG] [region 1] 3 requests snapshot to make the new non-witness peer available
test_push_non_witness_availability 2022/10/19 17:38:12.483 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.483 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 11, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.483 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 47
test_push_non_witness_availability 2022/10/19 17:38:12.483 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.483 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.483 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.484 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.484 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.484 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.484 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.484 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.484 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 11, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.485 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.485 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.485 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.485 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.485 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.485 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.486 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.486 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.486 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.486 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 11, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.486 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.486 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.487 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.487 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.487 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.487 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.487 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.487 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.488 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.488 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.488 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.488 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Replicate, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 3, count: 0, buffer: [9, 10, 11], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.489 peer_storage.rs:522: [INFO] requesting snapshot, request_peer: 3, request_index: 9, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.489 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.489 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.489 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.489 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.489 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.490 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.490 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.490 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.490 pool.rs:123: [DEBG] scheduling task Snap gen for 1
test_push_non_witness_availability 2022/10/19 17:38:12.490 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.490 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.490 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.491 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.493 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.496 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.497 peer.rs:5503: [DEBG] send extra msg, to: 1, msg_type: MsgHibernateRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.497 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgHibernateRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.497 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHibernateRequest, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.497 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgHibernateResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.497 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHibernateRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.497 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgHibernateResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.498 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHibernateResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.498 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHibernateResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.504 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.504 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.504 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.504 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.505 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.505 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.508 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 11, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.508 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.508 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.508 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.508 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.508 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.509 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 11, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.509 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.509 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.509 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.509 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.509 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.509 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.510 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.510 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:12.510 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.510 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.510 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.510 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.510 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.511 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.511 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.516 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.518 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.518 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 11 entries { term: 7 index: 12 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000001A080000000000000000 } commit: 11, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.518 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 12 commit: 11, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 raft_log.rs:536: [DEBG] persisted index 12, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.519 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.520 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.520 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.520 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.520 raft_log.rs:536: [DEBG] persisted index 12, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.520 raft_log.rs:500: [DEBG] committing index 12, index: 12, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.520 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.520 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.521 apply.rs:1277: [DEBG] applied command, index: 12, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.521 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.521 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 12 commit_index: 12 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.527 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.527 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.527 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.528 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.528 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.528 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.528 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.531 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 12, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.531 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.531 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.532 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.532 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.532 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.532 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.532 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 12 entries { term: 7 index: 13 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000011A080000000000000001 } commit: 12, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.532 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 12, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.533 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.533 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.533 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.533 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.533 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.533 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.533 apply.rs:1277: [DEBG] applied command, index: 12, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.534 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.534 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.534 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.534 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.534 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.534 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.534 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 12 commit_index: 12 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.535 raft_log.rs:536: [DEBG] persisted index 13, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.535 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.535 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.535 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 13 commit: 12, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.535 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.535 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.535 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.535 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.536 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.536 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.536 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.536 raft_log.rs:536: [DEBG] persisted index 13, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.536 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.536 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.536 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 13 commit: 12, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.537 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.537 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.537 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.537 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.537 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 13 commit: 12, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.537 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.537 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.538 raft_log.rs:500: [DEBG] committing index 13, index: 13, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.538 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.538 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.538 apply.rs:1277: [DEBG] applied command, index: 13, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.538 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.538 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 13 commit_index: 13 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.539 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.540 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.547 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.549 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.549 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.549 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.549 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.549 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.550 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.550 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 13 entries { term: 7 index: 14 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000021A080000000000000002 } commit: 13, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.550 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.550 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.550 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.550 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 14 commit: 13, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 raft_log.rs:536: [DEBG] persisted index 14, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 apply.rs:1277: [DEBG] applied command, index: 13, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.551 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.552 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.552 raft_log.rs:536: [DEBG] persisted index 14, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.552 raft_log.rs:500: [DEBG] committing index 14, index: 14, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.552 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.552 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.552 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 13 commit_index: 13 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.552 apply.rs:1277: [DEBG] applied command, index: 14, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.553 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.553 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 14 commit_index: 14 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.554 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 14, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.554 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 14, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.555 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 apply.rs:1277: [DEBG] applied command, index: 14, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.556 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.556 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 14 commit_index: 14 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.557 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.557 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.557 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.557 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.562 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.562 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.565 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 14 entries { term: 7 index: 15 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000031A080000000000000003 } commit: 14, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.565 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 15 commit: 14, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 raft_log.rs:536: [DEBG] persisted index 15, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.566 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.567 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.567 raft_log.rs:536: [DEBG] persisted index 15, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.567 raft_log.rs:500: [DEBG] committing index 15, index: 15, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.567 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.567 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.567 apply.rs:1277: [DEBG] applied command, index: 15, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.567 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 15 commit_index: 15 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.572 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.572 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.572 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.572 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.572 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.572 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.573 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.578 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 15, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.578 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.578 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.578 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.578 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.578 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.578 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 15 entries { term: 7 index: 16 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000041A080000000000000004 } commit: 15, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 15, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.579 apply.rs:1277: [DEBG] applied command, index: 15, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.580 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.580 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.580 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.580 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.580 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.580 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.580 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.580 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 15 commit_index: 15 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.581 raft_log.rs:536: [DEBG] persisted index 16, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.581 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.581 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.581 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 16 commit: 15, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.581 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.581 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.581 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.581 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.582 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.582 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.582 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.582 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.582 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 16 commit: 15, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.582 raft_log.rs:536: [DEBG] persisted index 16, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.582 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.582 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.583 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 16 commit: 15, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 raft_log.rs:500: [DEBG] committing index 16, index: 16, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.583 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.584 apply.rs:1277: [DEBG] applied command, index: 16, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.584 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.584 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.584 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 16 commit_index: 16 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.585 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.585 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.593 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.594 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 16 entries { term: 7 index: 17 data: 0A0808011204080210021A0808032204080A1007 } commit: 16, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 42, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.594 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 17 commit: 16, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 raft_log.rs:536: [DEBG] persisted index 17, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 apply.rs:1277: [DEBG] applied command, index: 16, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.595 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.595 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.596 raft_log.rs:536: [DEBG] persisted index 17, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.596 raft_log.rs:500: [DEBG] committing index 17, index: 17, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.596 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.596 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.596 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 16 commit_index: 16 commit_term: 7 truncated_state { index: 8 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.596 apply.rs:3010: [DEBG] [region 1] 2 compact log entries to prior to 10
test_push_non_witness_availability 2022/10/19 17:38:12.596 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.596 apply.rs:1277: [DEBG] applied command, index: 17, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.596 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 17 entries { term: 7 index: 18 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000051A080000000000000005 } commit: 17, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.597 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.597 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.597 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.597 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.597 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.598 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 18 commit: 17, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.598 raft_log.rs:536: [DEBG] persisted index 18, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.598 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.598 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.598 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.598 apply.rs:3010: [DEBG] [region 1] 1 compact log entries to prior to 10
test_push_non_witness_availability 2022/10/19 17:38:12.598 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 17 commit_index: 17 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [CompactLog { state: index: 10 term: 7, first_index: 9 }], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.598 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:12.599 apply.rs:1277: [DEBG] applied command, index: 17, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.599 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.599 peer.rs:2529: [DEBG] scheduling raft log gc task, task: GC Raft Logs [region: 1, from: 9, to: 11, has_cb: false], peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.599 pool.rs:123: [DEBG] scheduling task GC Raft Logs [region: 1, from: 9, to: 11, has_cb: false]
test_push_non_witness_availability 2022/10/19 17:38:12.599 raft_log.rs:536: [DEBG] persisted index 18, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.599 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.599 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.599 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.599 raft_log.rs:500: [DEBG] committing index 18, index: 18, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.599 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 17 commit_index: 17 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [CompactLog { state: index: 10 term: 7, first_index: 9 }], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.600 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.600 peer.rs:2529: [DEBG] scheduling raft log gc task, task: GC Raft Logs [region: 1, from: 9, to: 11, has_cb: false], peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.600 apply.rs:1277: [DEBG] applied command, index: 18, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.600 pool.rs:123: [DEBG] scheduling task GC Raft Logs [region: 1, from: 9, to: 11, has_cb: false]
test_push_non_witness_availability 2022/10/19 17:38:12.600 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 18 commit_index: 18 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.600 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 18, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 18, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.601 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 apply.rs:1277: [DEBG] applied command, index: 18, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.602 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.602 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.603 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 18 commit_index: 18 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.603 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.603 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.603 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.608 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.608 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.608 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.613 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 18 entries { term: 7 index: 19 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000061A080000000000000006 } commit: 18, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.613 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.613 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.613 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.613 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.613 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.613 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 19 commit: 18, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.614 raft_log.rs:536: [DEBG] persisted index 19, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.614 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.614 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.614 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.614 raft_log.rs:536: [DEBG] persisted index 19, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.614 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.614 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.614 raft_log.rs:500: [DEBG] committing index 19, index: 19, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.615 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.615 apply.rs:1277: [DEBG] applied command, index: 19, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.615 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 19 commit_index: 19 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.616 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.616 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.616 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.616 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.616 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.616 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.619 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.620 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.620 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.620 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:12.623 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 19, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 19, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.624 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 apply.rs:1277: [DEBG] applied command, index: 19, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.625 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.625 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.626 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 19 commit_index: 19 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.626 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.626 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.626 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 19 entries { term: 7 index: 20 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000071A080000000000000007 } commit: 19, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 20 commit: 19, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 raft_log.rs:536: [DEBG] persisted index 20, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.628 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.629 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.629 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.629 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.629 raft_log.rs:536: [DEBG] persisted index 20, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.629 raft_log.rs:500: [DEBG] committing index 20, index: 20, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.629 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.629 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.629 apply.rs:1277: [DEBG] applied command, index: 20, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.630 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.630 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 20 commit_index: 20 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.630 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.630 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.637 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.637 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.637 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.637 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.637 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.637 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.642 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 20 entries { term: 7 index: 21 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000081A080000000000000008 } commit: 20, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.642 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 21 commit: 20, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 raft_log.rs:536: [DEBG] persisted index 21, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 apply.rs:1277: [DEBG] applied command, index: 20, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.643 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.644 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.644 raft_log.rs:536: [DEBG] persisted index 21, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.644 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.644 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.644 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 20 commit_index: 20 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.645 raft_log.rs:500: [DEBG] committing index 21, index: 21, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.645 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.645 apply.rs:1277: [DEBG] applied command, index: 21, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.645 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 21 commit_index: 21 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.647 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 21, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.647 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.647 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.647 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.647 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.647 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.647 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 21, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 apply.rs:1277: [DEBG] applied command, index: 21, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.648 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.648 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.649 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.649 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.649 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.649 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 21 commit_index: 21 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.649 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.653 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.653 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.658 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 21 entries { term: 7 index: 22 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000091A080000000000000009 } commit: 21, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.658 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.658 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.658 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.658 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.658 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.658 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 22 commit: 21, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.658 raft_log.rs:536: [DEBG] persisted index 22, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.659 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.659 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.659 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.659 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.659 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.659 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.659 raft_log.rs:536: [DEBG] persisted index 22, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.659 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.659 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.660 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.660 raft_log.rs:500: [DEBG] committing index 22, index: 22, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.660 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.660 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.660 apply.rs:1277: [DEBG] applied command, index: 22, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.660 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.660 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 22 commit_index: 22 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.664 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.669 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.670 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 22, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.670 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.670 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.670 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.670 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.670 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 22, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 apply.rs:1277: [DEBG] applied command, index: 22, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.671 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.671 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.672 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.672 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.672 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.672 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.672 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 22 commit_index: 22 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.672 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.673 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 22 entries { term: 7 index: 23 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000A1A08000000000000000A } commit: 22, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.673 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.673 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.673 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.673 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.673 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.674 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 23 commit: 22, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.674 raft_log.rs:536: [DEBG] persisted index 23, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.674 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.674 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.674 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.674 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.674 raft_log.rs:536: [DEBG] persisted index 23, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.674 raft_log.rs:500: [DEBG] committing index 23, index: 23, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.675 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.675 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.675 apply.rs:1277: [DEBG] applied command, index: 23, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.675 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 23 commit_index: 23 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.676 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.676 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.681 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.681 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.681 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.681 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.681 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.681 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.688 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 23 entries { term: 7 index: 24 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000B1A08000000000000000B } commit: 23, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.688 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.688 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.688 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.688 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.688 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.688 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 24 commit: 23, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 raft_log.rs:536: [DEBG] persisted index 24, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 apply.rs:1277: [DEBG] applied command, index: 23, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.689 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 raft_log.rs:536: [DEBG] persisted index 24, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 raft_log.rs:500: [DEBG] committing index 24, index: 24, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.689 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.690 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.690 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 23 commit_index: 23 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.690 apply.rs:1277: [DEBG] applied command, index: 24, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.690 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 24 commit_index: 24 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.693 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 24, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.693 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.693 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.693 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.693 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.693 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 24, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.693 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.694 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.694 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.694 apply.rs:1277: [DEBG] applied command, index: 24, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.694 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.694 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.694 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.694 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.694 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.695 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.695 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 24 commit_index: 24 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.695 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.695 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.695 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.695 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.695 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.698 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.698 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.703 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 24 entries { term: 7 index: 25 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000C1A08000000000000000C } commit: 24, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.703 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.703 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.703 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.703 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.703 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.703 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 25 commit: 24, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 raft_log.rs:536: [DEBG] persisted index 25, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.704 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.704 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 raft_log.rs:536: [DEBG] persisted index 25, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.704 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.705 raft_log.rs:500: [DEBG] committing index 25, index: 25, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.705 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.705 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.705 apply.rs:1277: [DEBG] applied command, index: 25, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.705 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.705 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 25 commit_index: 25 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.710 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.717 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 25, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.717 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.717 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.717 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 25, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.718 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 25 entries { term: 7 index: 26 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000D1A08000000000000000D } commit: 25, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 apply.rs:1277: [DEBG] applied command, index: 25, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.719 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.719 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.720 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 25 commit_index: 25 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.720 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.720 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.720 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 26 commit: 25, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.720 raft_log.rs:536: [DEBG] persisted index 26, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.720 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.720 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.720 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 26 commit: 25, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.721 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.721 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.721 raft_log.rs:536: [DEBG] persisted index 26, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 raft_log.rs:500: [DEBG] committing index 26, index: 26, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.722 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 26 commit: 25, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 apply.rs:1277: [DEBG] applied command, index: 26, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.722 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.723 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 26 commit_index: 26 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.723 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.725 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.725 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:12.725 pool.rs:123: [DEBG] scheduling task get store's information: cpu_usages [], read_io_rates [], write_io_rates []
test_push_non_witness_availability 2022/10/19 17:38:12.725 pool.rs:123: [DEBG] scheduling task compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(24.625µs), store_process_duration: Some(32.042µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:12.726 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability-0 2022/10/19 17:38:12.726 pd.rs:1790: [DEBG] executing task, task: get store's information: cpu_usages [], read_io_rates [], write_io_rates []
test_push_non_witness_availability 2022/10/19 17:38:12.726 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability-0 2022/10/19 17:38:12.726 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(24.625µs), store_process_duration: Some(32.042µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.726 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.726 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:12.726 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.726 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.726 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.726 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:12.726 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:12.726 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.726 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.726 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:12.730 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.733 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.733 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 26 entries { term: 7 index: 27 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000E1A08000000000000000E } commit: 26, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.733 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.733 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.733 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 27 commit: 26, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 apply.rs:1277: [DEBG] applied command, index: 26, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 raft_log.rs:536: [DEBG] persisted index 27, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.734 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.734 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.735 raft_log.rs:536: [DEBG] persisted index 27, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.735 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.735 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.735 raft_log.rs:500: [DEBG] committing index 27, index: 27, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.735 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 26 commit_index: 26 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.735 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.735 apply.rs:1277: [DEBG] applied command, index: 27, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.736 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.736 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 27 commit_index: 27 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.741 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 27, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.741 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.741 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.741 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.741 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 27, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 apply.rs:1277: [DEBG] applied command, index: 27, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.742 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.742 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.743 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.743 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.743 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 27 commit_index: 27 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.743 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.743 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.743 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.743 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.744 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.744 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.747 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.747 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.748 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 27 entries { term: 7 index: 28 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000F1A08000000000000000F } commit: 27, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.748 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 28 commit: 27, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 raft_log.rs:536: [DEBG] persisted index 28, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.749 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 raft_log.rs:536: [DEBG] persisted index 28, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 raft_log.rs:500: [DEBG] committing index 28, index: 28, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.749 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.750 apply.rs:1277: [DEBG] applied command, index: 28, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.750 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.750 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 28 commit_index: 28 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.755 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.762 pool.rs:123: [DEBG] scheduling task get store's information: cpu_usages [], read_io_rates [], write_io_rates []
test_push_non_witness_availability-0 2022/10/19 17:38:12.762 pd.rs:1790: [DEBG] executing task, task: get store's information: cpu_usages [], read_io_rates [], write_io_rates []
test_push_non_witness_availability 2022/10/19 17:38:12.762 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:12.762 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 28 entries { term: 7 index: 29 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000101A080000000000000010 } commit: 28, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.762 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:12.762 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.762 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_push_non_witness_availability-0 2022/10/19 17:38:12.762 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:12.763 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.763 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:12.763 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.763 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.763 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.763 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 29 commit: 28, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.763 pool.rs:123: [DEBG] scheduling task compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(68.709µs), store_process_duration: Some(1.089875ms), store_write_duration: Some(153.541µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.763 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.763 raft_log.rs:536: [DEBG] persisted index 29, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.764 apply.rs:1277: [DEBG] applied command, index: 28, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.764 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:12.764 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(68.709µs), store_process_duration: Some(1.089875ms), store_write_duration: Some(153.541µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.764 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.764 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.764 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.764 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 28, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.764 raft_log.rs:536: [DEBG] persisted index 29, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.764 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 28 commit_index: 28 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.765 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 28, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 raft_log.rs:500: [DEBG] committing index 29, index: 29, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 apply.rs:1277: [DEBG] applied command, index: 29, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.766 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.767 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.767 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.767 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.767 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.767 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.767 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.767 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 29 commit_index: 29 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.770 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.770 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.771 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.771 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.771 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.771 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.777 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.777 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 29 entries { term: 7 index: 30 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000111A080000000000000011 } commit: 29, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.777 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.777 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.777 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.777 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.777 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 30 commit: 29, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 raft_log.rs:536: [DEBG] persisted index 30, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 apply.rs:1277: [DEBG] applied command, index: 29, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.778 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 raft_log.rs:536: [DEBG] persisted index 30, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 raft_log.rs:500: [DEBG] committing index 30, index: 30, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.778 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.779 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.779 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.779 apply.rs:1277: [DEBG] applied command, index: 30, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.779 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 29 commit_index: 29 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.779 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 30 commit_index: 30 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.790 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 30, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.790 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.790 peer.rs:1662: [DEBG] rejecting sleeping, peer_id: 2, region_id: 1, reason: replication
test_push_non_witness_availability 2022/10/19 17:38:12.790 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 30 entries { term: 7 index: 31 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000121A080000000000000012 } commit: 30, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.790 raft.rs:666: [DEBG] ignore sending snapshot to 3 since it is not recently active, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 30, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.791 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 apply.rs:1277: [DEBG] applied command, index: 30, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.792 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 raft_log.rs:536: [DEBG] persisted index 31, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.792 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.793 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.793 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 3 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.793 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 31 commit: 30, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.793 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.793 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.793 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 30 commit_index: 30 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.793 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.793 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 31 commit: 30, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.794 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.794 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 raft_log.rs:536: [DEBG] persisted index 31, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.794 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.795 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.795 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.795 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.795 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.795 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.795 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.795 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.795 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.795 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 31 commit: 30, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 raft_log.rs:500: [DEBG] committing index 31, index: 31, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 apply.rs:1277: [DEBG] applied command, index: 31, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.796 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 31 commit_index: 31 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.801 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.801 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.801 pool.rs:123: [DEBG] scheduling task compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(19.042µs), store_process_duration: Some(12.666µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:12.801 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(19.042µs), store_process_duration: Some(12.666µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:12.803 pool.rs:123: [DEBG] scheduling task get store's information: cpu_usages [], read_io_rates [], write_io_rates []
test_push_non_witness_availability-0 2022/10/19 17:38:12.803 pd.rs:1790: [DEBG] executing task, task: get store's information: cpu_usages [], read_io_rates [], write_io_rates []
test_push_non_witness_availability 2022/10/19 17:38:12.803 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:12.803 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability-0 2022/10/19 17:38:12.803 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:12.803 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_push_non_witness_availability-0 2022/10/19 17:38:12.804 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:12.809 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 31 entries { term: 7 index: 32 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000131A080000000000000013 } commit: 31, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.809 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.809 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.809 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.809 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 32 commit: 31, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 raft_log.rs:536: [DEBG] persisted index 32, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 apply.rs:1277: [DEBG] applied command, index: 31, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.810 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 raft_log.rs:536: [DEBG] persisted index 32, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.810 raft_log.rs:500: [DEBG] committing index 32, index: 32, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.811 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.811 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.811 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 31 commit_index: 31 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.811 apply.rs:1277: [DEBG] applied command, index: 32, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.811 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 32 commit_index: 32 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.813 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.814 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 32, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.814 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.814 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.814 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.814 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.814 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 32, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 apply.rs:1277: [DEBG] applied command, index: 32, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.815 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.815 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.816 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.816 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.816 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.816 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 32 commit_index: 32 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.816 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.817 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.817 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.817 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.817 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.818 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.818 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.824 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.824 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.824 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 32 entries { term: 7 index: 33 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000141A080000000000000014 } commit: 32, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.824 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.824 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.824 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.824 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.824 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 33 commit: 32, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 raft_log.rs:536: [DEBG] persisted index 33, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.825 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 raft_log.rs:536: [DEBG] persisted index 33, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.825 raft_log.rs:500: [DEBG] committing index 33, index: 33, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.826 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.826 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.826 apply.rs:1277: [DEBG] applied command, index: 33, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.826 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 33 commit_index: 33 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.831 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.831 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.831 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:12.836 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.836 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 33, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.836 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.836 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.836 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.836 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.836 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.836 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 33, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 apply.rs:1277: [DEBG] applied command, index: 33, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.837 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.837 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.838 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.838 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.838 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 33 commit_index: 33 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.838 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.838 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 33 entries { term: 7 index: 34 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000151A080000000000000015 } commit: 33, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.838 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 34 commit: 33, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 raft_log.rs:536: [DEBG] persisted index 34, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.839 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.839 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.840 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 raft_log.rs:536: [DEBG] persisted index 34, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 raft_log.rs:500: [DEBG] committing index 34, index: 34, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 apply.rs:1277: [DEBG] applied command, index: 34, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.840 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.841 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 34 commit_index: 34 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.847 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.847 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.853 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 34 entries { term: 7 index: 35 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000161A080000000000000016 } commit: 34, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.853 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.853 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.853 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 35 commit: 34, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 raft_log.rs:536: [DEBG] persisted index 35, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 apply.rs:1277: [DEBG] applied command, index: 34, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.854 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.854 raft_log.rs:536: [DEBG] persisted index 35, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.855 raft_log.rs:500: [DEBG] committing index 35, index: 35, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.855 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.855 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.855 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 34 commit_index: 34 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.855 apply.rs:1277: [DEBG] applied command, index: 35, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.855 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 35 commit_index: 35 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.858 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.858 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.858 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 35, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.858 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.858 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.858 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.858 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 35, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 apply.rs:1277: [DEBG] applied command, index: 35, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.859 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.859 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.860 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 35 commit_index: 35 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.860 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.860 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.860 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.860 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.861 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.861 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.861 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.861 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.862 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.862 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.868 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 35 entries { term: 7 index: 36 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000171A080000000000000017 } commit: 35, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.868 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.868 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.868 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.868 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.868 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.868 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 36 commit: 35, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.869 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.869 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.869 raft_log.rs:536: [DEBG] persisted index 36, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.869 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.869 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.869 raft_log.rs:536: [DEBG] persisted index 36, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.869 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.869 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.869 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.870 raft_log.rs:500: [DEBG] committing index 36, index: 36, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.870 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.870 apply.rs:1277: [DEBG] applied command, index: 36, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.870 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 36 commit_index: 36 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.882 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 36, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.882 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.882 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.882 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.882 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 36, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 36 entries { term: 7 index: 37 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000181A080000000000000018 } commit: 36, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.883 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.884 apply.rs:1277: [DEBG] applied command, index: 36, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.884 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.885 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 36 commit_index: 36 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.885 raft_log.rs:536: [DEBG] persisted index 37, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.885 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.885 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.885 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 37 commit: 36, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.885 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.885 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.885 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.886 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.886 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.886 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.886 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.886 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.886 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.886 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.886 raft_log.rs:536: [DEBG] persisted index 37, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.886 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.887 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.887 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.887 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.887 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 37 commit: 36, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.887 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.887 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.887 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.887 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.887 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 37 commit: 36, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 raft_log.rs:500: [DEBG] committing index 37, index: 37, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 apply.rs:1277: [DEBG] applied command, index: 37, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.888 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 37 commit_index: 37 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.894 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.894 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.901 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 37 entries { term: 7 index: 38 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000191A080000000000000019 } commit: 37, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.901 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.901 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.901 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 38 commit: 37, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 raft_log.rs:536: [DEBG] persisted index 38, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 apply.rs:1277: [DEBG] applied command, index: 37, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.902 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.903 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.903 raft_log.rs:536: [DEBG] persisted index 38, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.903 raft_log.rs:500: [DEBG] committing index 38, index: 38, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.903 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.903 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.903 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 37 commit_index: 37 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.903 apply.rs:1277: [DEBG] applied command, index: 38, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.904 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 38 commit_index: 38 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.906 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.907 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 38, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.907 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.907 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.907 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.907 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.907 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.907 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.907 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 38, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 apply.rs:1277: [DEBG] applied command, index: 38, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.908 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.908 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.909 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.909 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 38 commit_index: 38 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.909 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.909 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.909 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.909 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.910 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.910 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.910 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.910 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.910 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.916 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 38 entries { term: 7 index: 39 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001A1A08000000000000001A } commit: 38, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.916 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.916 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.916 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.917 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.917 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.917 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 39 commit: 38, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.917 raft_log.rs:536: [DEBG] persisted index 39, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.917 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.917 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.917 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.918 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.918 raft_log.rs:536: [DEBG] persisted index 39, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.918 raft_log.rs:500: [DEBG] committing index 39, index: 39, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.918 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.918 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.918 apply.rs:1277: [DEBG] applied command, index: 39, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.918 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 39 commit_index: 39 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.919 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.919 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.919 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.931 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 39, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.931 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.931 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.931 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.931 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.931 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 39 entries { term: 7 index: 40 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001B1A08000000000000001B } commit: 39, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.932 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 39, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 apply.rs:1277: [DEBG] applied command, index: 39, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.933 raft_log.rs:536: [DEBG] persisted index 40, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.934 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 3 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.934 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.934 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.934 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.934 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.934 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.934 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.934 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.934 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 40 commit: 39, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 39 commit_index: 39 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 40 commit: 39, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.935 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.936 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 raft_log.rs:536: [DEBG] persisted index 40, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 raft_log.rs:500: [DEBG] committing index 40, index: 40, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 40 commit: 39, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 apply.rs:1277: [DEBG] applied command, index: 40, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.936 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.937 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.937 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 40 commit_index: 40 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.937 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.937 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.937 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:12.937 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:12.942 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.942 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.949 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 40 entries { term: 7 index: 41 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001C1A08000000000000001C } commit: 40, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.949 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.949 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.949 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 41 commit: 40, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 raft_log.rs:536: [DEBG] persisted index 41, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 apply.rs:1277: [DEBG] applied command, index: 40, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.950 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.951 raft_log.rs:536: [DEBG] persisted index 41, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.951 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.951 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.951 raft_log.rs:500: [DEBG] committing index 41, index: 41, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.951 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.951 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 40 commit_index: 40 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.951 apply.rs:1277: [DEBG] applied command, index: 41, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.951 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 41 commit_index: 41 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.953 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.955 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 41, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.955 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.955 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.955 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.955 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.955 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 41, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.956 apply.rs:1277: [DEBG] applied command, index: 41, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.956 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.956 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 41 commit_index: 41 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.957 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.957 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.957 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.957 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.957 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.957 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.957 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.958 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.958 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.958 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.964 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.964 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.964 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 41 entries { term: 7 index: 42 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001D1A08000000000000001D } commit: 41, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.964 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.964 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 42 commit: 41, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 raft_log.rs:536: [DEBG] persisted index 42, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.965 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.966 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.966 raft_log.rs:536: [DEBG] persisted index 42, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.966 raft_log.rs:500: [DEBG] committing index 42, index: 42, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.966 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.966 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.966 apply.rs:1277: [DEBG] applied command, index: 42, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.966 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 42 commit_index: 42 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.976 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.977 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 42, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.977 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.977 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.977 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.977 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.977 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.977 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 42 entries { term: 7 index: 43 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001E1A08000000000000001E } commit: 42, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 42, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.978 apply.rs:1277: [DEBG] applied command, index: 42, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.979 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 42 commit_index: 42 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 43 commit: 42, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.979 raft_log.rs:536: [DEBG] persisted index 43, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:12.980 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.980 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.980 raft_log.rs:536: [DEBG] persisted index 43, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 43 commit: 42, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.981 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 43 commit: 42, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 raft_log.rs:500: [DEBG] committing index 43, index: 43, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 apply.rs:1277: [DEBG] applied command, index: 43, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.982 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.983 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 43 commit_index: 43 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.988 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.988 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:12.995 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 43 entries { term: 7 index: 44 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001F1A08000000000000001F } commit: 43, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.995 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.995 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.995 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.995 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.995 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 44 commit: 43, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 raft_log.rs:536: [DEBG] persisted index 44, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 apply.rs:1277: [DEBG] applied command, index: 43, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:12.996 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 raft_log.rs:536: [DEBG] persisted index 44, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 raft_log.rs:500: [DEBG] committing index 44, index: 44, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.996 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.997 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.997 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 43 commit_index: 43 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.997 apply.rs:1277: [DEBG] applied command, index: 44, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.997 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:12.997 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 44 commit_index: 44 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:12.999 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 44, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.000 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 44, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.000 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 apply.rs:1277: [DEBG] applied command, index: 44, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.001 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.001 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.002 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.002 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 44 commit_index: 44 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.002 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.003 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.003 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.003 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.004 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.004 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.004 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.009 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 44 entries { term: 7 index: 45 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000201A080000000000000020 } commit: 44, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.009 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 45 commit: 44, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 raft_log.rs:536: [DEBG] persisted index 45, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.010 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.010 raft_log.rs:536: [DEBG] persisted index 45, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.011 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.011 raft_log.rs:500: [DEBG] committing index 45, index: 45, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.011 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.011 apply.rs:1277: [DEBG] applied command, index: 45, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.011 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 45 commit_index: 45 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.011 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.011 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.023 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 45, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.023 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.023 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 45, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.024 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 45 entries { term: 7 index: 46 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000211A080000000000000021 } commit: 45, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.025 apply.rs:1277: [DEBG] applied command, index: 45, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.025 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.026 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.026 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.026 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.026 raft_log.rs:536: [DEBG] persisted index 46, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.026 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 46 commit: 45, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.026 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.026 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 45 commit_index: 45 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.026 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.027 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.027 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.027 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.027 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.027 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.027 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.027 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.027 raft_log.rs:536: [DEBG] persisted index 46, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.027 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 46 commit: 45, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.028 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.029 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 46 commit: 45, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 raft_log.rs:500: [DEBG] committing index 46, index: 46, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 apply.rs:1277: [DEBG] applied command, index: 46, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.029 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.030 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 46 commit_index: 46 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.035 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.035 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.042 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 46 entries { term: 7 index: 47 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000221A080000000000000022 } commit: 46, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.042 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.042 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.042 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 47 commit: 46, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 raft_log.rs:536: [DEBG] persisted index 47, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 apply.rs:1277: [DEBG] applied command, index: 46, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.043 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.044 raft_log.rs:536: [DEBG] persisted index 47, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.044 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.044 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.044 raft_log.rs:500: [DEBG] committing index 47, index: 47, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.044 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 46 commit_index: 46 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.044 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.044 apply.rs:1277: [DEBG] applied command, index: 47, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.045 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.045 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.045 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 47 commit_index: 47 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.045 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.045 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.045 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.046 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.046 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 47, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.046 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.046 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.046 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.046 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 47, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 apply.rs:1277: [DEBG] applied command, index: 47, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.047 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.047 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.048 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.048 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.048 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 47 commit_index: 47 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.048 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.048 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.050 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.051 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.051 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.051 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.051 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.051 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.057 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 47 entries { term: 7 index: 48 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000231A080000000000000023 } commit: 47, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.057 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 48 commit: 47, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 raft_log.rs:536: [DEBG] persisted index 48, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.058 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.058 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.059 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.059 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.059 raft_log.rs:536: [DEBG] persisted index 48, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.059 raft_log.rs:500: [DEBG] committing index 48, index: 48, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.059 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.059 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.059 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.059 apply.rs:1277: [DEBG] applied command, index: 48, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.060 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.060 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 48 commit_index: 48 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.070 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 48, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.070 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.070 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.070 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.070 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 48 entries { term: 7 index: 49 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000241A080000000000000024 } commit: 48, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 48, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.071 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 apply.rs:1277: [DEBG] applied command, index: 48, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.072 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.072 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 48 commit_index: 48 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 raft_log.rs:536: [DEBG] persisted index 49, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.073 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 49 commit: 48, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.073 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.074 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.074 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 raft_log.rs:536: [DEBG] persisted index 49, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.074 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 49 commit: 48, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 raft_log.rs:500: [DEBG] committing index 49, index: 49, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 49 commit: 48, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.075 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.076 apply.rs:1277: [DEBG] applied command, index: 49, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.076 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.076 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.076 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 49 commit_index: 49 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.082 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.082 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.082 peer.rs:1662: [DEBG] rejecting sleeping, peer_id: 2, region_id: 1, reason: replication
test_push_non_witness_availability 2022/10/19 17:38:13.088 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 49 entries { term: 7 index: 50 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000251A080000000000000025 } commit: 49, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.088 raft.rs:666: [DEBG] ignore sending snapshot to 3 since it is not recently active, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 50 commit: 49, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 raft_log.rs:536: [DEBG] persisted index 50, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 apply.rs:1277: [DEBG] applied command, index: 49, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.089 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.090 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.090 raft_log.rs:536: [DEBG] persisted index 50, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.090 raft_log.rs:500: [DEBG] committing index 50, index: 50, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.090 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 49 commit_index: 49 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.090 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.090 apply.rs:1277: [DEBG] applied command, index: 50, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.090 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 50 commit_index: 50 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 50, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.094 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 50, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.094 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 apply.rs:1277: [DEBG] applied command, index: 50, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.095 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 50 commit_index: 50 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.095 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.096 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.096 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.100 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.102 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 50 entries { term: 7 index: 51 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000261A080000000000000026 } commit: 50, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 51 commit: 50, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 raft_log.rs:536: [DEBG] persisted index 51, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.102 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.103 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.103 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.103 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.103 raft_log.rs:536: [DEBG] persisted index 51, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.103 raft_log.rs:500: [DEBG] committing index 51, index: 51, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.103 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.103 apply.rs:1277: [DEBG] applied command, index: 51, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.104 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 51 commit_index: 51 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.105 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.106 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.106 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.116 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 51, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.116 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.116 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.116 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 51 entries { term: 7 index: 52 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000271A080000000000000027 } commit: 51, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 51, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.117 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.118 apply.rs:1277: [DEBG] applied command, index: 51, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.118 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.119 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.119 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 51 commit_index: 51 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.119 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.119 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 52 commit: 51, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.119 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.119 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.119 raft_log.rs:536: [DEBG] persisted index 52, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.119 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.119 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.120 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 raft_log.rs:536: [DEBG] persisted index 52, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.120 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 52 commit: 51, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.120 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 52 commit: 51, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.121 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.122 raft_log.rs:500: [DEBG] committing index 52, index: 52, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.122 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.122 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.122 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.122 apply.rs:1277: [DEBG] applied command, index: 52, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.122 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.122 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 52 commit_index: 52 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.128 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.130 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.132 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 52 entries { term: 7 index: 53 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000281A080000000000000028 } commit: 52, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 53 commit: 52, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 raft_log.rs:536: [DEBG] persisted index 53, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 apply.rs:1277: [DEBG] applied command, index: 52, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.133 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.134 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.134 raft_log.rs:536: [DEBG] persisted index 53, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.134 raft_log.rs:500: [DEBG] committing index 53, index: 53, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.134 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 52 commit_index: 52 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.134 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.134 apply.rs:1277: [DEBG] applied command, index: 53, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.134 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 53 commit_index: 53 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.141 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 53, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.141 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.141 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.141 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.141 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.141 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.141 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 53, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 apply.rs:1277: [DEBG] applied command, index: 53, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.142 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.143 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.143 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.143 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.143 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.143 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 53 commit_index: 53 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.143 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.143 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.143 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.144 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.144 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.144 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.144 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.147 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 53 entries { term: 7 index: 54 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000291A080000000000000029 } commit: 53, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.147 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.147 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.147 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.147 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.148 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.148 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 54 commit: 53, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.148 raft_log.rs:536: [DEBG] persisted index 54, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.148 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.148 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.148 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.148 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.148 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.148 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.148 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.148 raft_log.rs:536: [DEBG] persisted index 54, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.149 raft_log.rs:500: [DEBG] committing index 54, index: 54, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.149 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.149 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.149 apply.rs:1277: [DEBG] applied command, index: 54, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.149 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 54 commit_index: 54 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.152 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.152 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.160 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 54 entries { term: 7 index: 55 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002A1A08000000000000002A } commit: 54, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.160 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.160 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.160 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 55 commit: 54, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 raft_log.rs:536: [DEBG] persisted index 55, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 apply.rs:1277: [DEBG] applied command, index: 54, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.161 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.161 raft_log.rs:536: [DEBG] persisted index 55, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.162 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.162 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 54 commit_index: 54 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.162 raft_log.rs:500: [DEBG] committing index 55, index: 55, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.162 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.162 apply.rs:1277: [DEBG] applied command, index: 55, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.162 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 55 commit_index: 55 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.163 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.163 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 55, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.163 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.163 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.163 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 55, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 apply.rs:1277: [DEBG] applied command, index: 55, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.164 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.164 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 55 commit_index: 55 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.165 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.165 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.166 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.166 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.166 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.166 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.167 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.175 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.175 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 55 entries { term: 7 index: 56 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002B1A08000000000000002B } commit: 55, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.175 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.175 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.175 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.175 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 56 commit: 55, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 raft_log.rs:536: [DEBG] persisted index 56, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.176 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.177 raft_log.rs:536: [DEBG] persisted index 56, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.177 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.177 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.177 raft_log.rs:500: [DEBG] committing index 56, index: 56, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.177 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.177 apply.rs:1277: [DEBG] applied command, index: 56, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.177 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 56 commit_index: 56 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.187 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.187 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 56, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.187 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.187 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.187 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.187 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.187 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.187 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 56, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.188 apply.rs:1277: [DEBG] applied command, index: 56, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.189 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.189 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 56 commit_index: 56 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.190 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.190 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.190 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.190 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.190 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.190 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 56 entries { term: 7 index: 57 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002C1A08000000000000002C } commit: 56, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 57 commit: 56, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 raft_log.rs:536: [DEBG] persisted index 57, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.191 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.192 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.192 raft_log.rs:536: [DEBG] persisted index 57, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.192 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.192 raft_log.rs:500: [DEBG] committing index 57, index: 57, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.192 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.192 apply.rs:1277: [DEBG] applied command, index: 57, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.192 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 57 commit_index: 57 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.198 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.198 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.204 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 57 entries { term: 7 index: 58 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002D1A08000000000000002D } commit: 57, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.204 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.204 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.204 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.204 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.204 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.204 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 58 commit: 57, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.204 raft_log.rs:536: [DEBG] persisted index 58, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.205 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.205 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.205 apply.rs:1277: [DEBG] applied command, index: 57, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.205 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.205 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.205 raft_log.rs:536: [DEBG] persisted index 58, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.205 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.205 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 57 commit_index: 57 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.206 raft_log.rs:500: [DEBG] committing index 58, index: 58, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.206 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.206 apply.rs:1277: [DEBG] applied command, index: 58, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.206 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 58 commit_index: 58 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.210 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.210 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 58, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.210 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.210 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.210 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.210 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 58, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.211 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 apply.rs:1277: [DEBG] applied command, index: 58, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.212 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.212 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 58 commit_index: 58 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.213 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.213 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.213 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 58 entries { term: 7 index: 59 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002E1A08000000000000002E } commit: 58, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 59 commit: 58, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 raft_log.rs:536: [DEBG] persisted index 59, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.219 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.220 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.220 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.220 raft_log.rs:536: [DEBG] persisted index 59, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.220 raft_log.rs:500: [DEBG] committing index 59, index: 59, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.220 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.220 apply.rs:1277: [DEBG] applied command, index: 59, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.220 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 59 commit_index: 59 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.223 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.223 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.229 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.229 pool.rs:123: [DEBG] scheduling task compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(49.917µs), store_process_duration: Some(20.834µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:13.229 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(49.917µs), store_process_duration: Some(20.834µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:13.232 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.232 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.233 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 59 entries { term: 7 index: 60 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002F1A08000000000000002F } commit: 59, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.233 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 60 commit: 59, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 raft_log.rs:536: [DEBG] persisted index 60, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 apply.rs:1277: [DEBG] applied command, index: 59, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.234 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 raft_log.rs:536: [DEBG] persisted index 60, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.234 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 59, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.235 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.235 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.235 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.235 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.235 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 59 commit_index: 59 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.235 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.235 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.235 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 59, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 raft_log.rs:500: [DEBG] committing index 60, index: 60, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.236 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 apply.rs:1277: [DEBG] applied command, index: 60, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.237 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.238 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 60 commit_index: 60 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.247 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.247 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.250 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 60 entries { term: 7 index: 61 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000301A080000000000000030 } commit: 60, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 61 commit: 60, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 raft_log.rs:536: [DEBG] persisted index 61, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.250 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.251 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.251 apply.rs:1277: [DEBG] applied command, index: 60, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.251 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.251 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.251 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.251 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.251 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.251 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.251 raft_log.rs:536: [DEBG] persisted index 61, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.251 raft_log.rs:500: [DEBG] committing index 61, index: 61, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.252 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.252 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.252 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 60 commit_index: 60 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.252 apply.rs:1277: [DEBG] applied command, index: 61, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.252 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 61 commit_index: 61 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.256 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.256 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.256 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.256 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.256 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.256 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.258 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 61, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.258 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.258 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.258 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.258 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 61, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.259 apply.rs:1277: [DEBG] applied command, index: 61, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.260 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.260 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.260 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.260 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.260 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.260 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.260 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 61 commit_index: 61 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.261 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.261 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.261 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.262 pool.rs:123: [DEBG] scheduling task compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(61.292µs), store_process_duration: Some(10.25µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:13.263 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(61.292µs), store_process_duration: Some(10.25µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:13.265 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 61 entries { term: 7 index: 62 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000311A080000000000000031 } commit: 61, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.265 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.265 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.265 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.265 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.265 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.265 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 62 commit: 61, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.266 raft_log.rs:536: [DEBG] persisted index 62, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.266 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.266 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.266 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.266 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.266 raft_log.rs:536: [DEBG] persisted index 62, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.266 raft_log.rs:500: [DEBG] committing index 62, index: 62, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.266 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.267 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.267 apply.rs:1277: [DEBG] applied command, index: 62, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.267 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 62 commit_index: 62 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.269 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.269 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.278 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.279 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 62 entries { term: 7 index: 63 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000321A080000000000000032 } commit: 62, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.279 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 63 commit: 62, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 raft_log.rs:536: [DEBG] persisted index 63, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 apply.rs:1277: [DEBG] applied command, index: 62, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.280 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.280 raft_log.rs:536: [DEBG] persisted index 63, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 raft_log.rs:500: [DEBG] committing index 63, index: 63, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.281 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 62 commit_index: 62 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 apply.rs:1277: [DEBG] applied command, index: 63, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 63, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.281 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 63 commit_index: 63 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 63, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.282 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 apply.rs:1277: [DEBG] applied command, index: 63, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.283 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.283 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.284 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 63 commit_index: 63 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.284 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.284 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.292 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.292 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.292 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.292 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 63 entries { term: 7 index: 64 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000331A080000000000000033 } commit: 63, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.292 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.292 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.292 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 64 commit: 63, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 raft_log.rs:536: [DEBG] persisted index 64, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.293 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.294 raft_log.rs:536: [DEBG] persisted index 64, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.294 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.294 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.294 raft_log.rs:500: [DEBG] committing index 64, index: 64, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.294 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.294 apply.rs:1277: [DEBG] applied command, index: 64, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.294 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 64 commit_index: 64 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.302 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.302 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.302 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.302 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.302 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.303 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.303 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.303 pool.rs:123: [DEBG] scheduling task compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(28.167µs), store_process_duration: Some(11.792µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:13.303 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(28.167µs), store_process_duration: Some(11.792µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:13.304 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 64, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.304 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.304 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.304 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.304 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.304 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 64, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 apply.rs:1277: [DEBG] applied command, index: 64, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.305 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.305 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.306 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.306 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.306 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.306 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.306 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 64 commit_index: 64 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.306 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.307 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 64 entries { term: 7 index: 65 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000341A080000000000000034 } commit: 64, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.307 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.307 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.307 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.307 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.307 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 65 commit: 64, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 raft_log.rs:536: [DEBG] persisted index 65, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.308 raft_log.rs:536: [DEBG] persisted index 65, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 raft_log.rs:500: [DEBG] committing index 65, index: 65, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.308 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.309 apply.rs:1277: [DEBG] applied command, index: 65, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.309 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.309 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 65 commit_index: 65 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.316 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.316 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.319 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 65 entries { term: 7 index: 66 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000351A080000000000000035 } commit: 65, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.319 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 66 commit: 65, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 raft_log.rs:536: [DEBG] persisted index 66, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.320 apply.rs:1277: [DEBG] applied command, index: 65, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.321 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.321 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.321 raft_log.rs:536: [DEBG] persisted index 66, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.321 raft_log.rs:500: [DEBG] committing index 66, index: 66, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.321 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.321 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.321 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 65 commit_index: 65 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.321 apply.rs:1277: [DEBG] applied command, index: 66, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.322 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.322 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 66 commit_index: 66 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.325 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.325 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.325 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.325 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.325 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.325 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.327 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 66, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.327 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.327 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.327 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.327 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 66, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.328 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.329 apply.rs:1277: [DEBG] applied command, index: 66, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.329 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.329 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.329 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.329 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.329 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.329 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.329 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.330 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 66 commit_index: 66 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.330 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.330 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.334 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 66 entries { term: 7 index: 67 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000361A080000000000000036 } commit: 66, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.334 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 67 commit: 66, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 raft_log.rs:536: [DEBG] persisted index 67, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.335 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.336 raft_log.rs:536: [DEBG] persisted index 67, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.336 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.336 raft_log.rs:500: [DEBG] committing index 67, index: 67, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.336 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.336 apply.rs:1277: [DEBG] applied command, index: 67, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.336 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 67 commit_index: 67 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.340 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.340 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.346 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.346 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.346 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.346 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.347 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.347 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.349 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 67 entries { term: 7 index: 68 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000371A080000000000000037 } commit: 67, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.349 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.349 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.349 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.349 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.349 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.350 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 68 commit: 67, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.350 raft_log.rs:536: [DEBG] persisted index 68, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.350 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.350 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.350 apply.rs:1277: [DEBG] applied command, index: 67, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.350 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.350 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.350 raft_log.rs:536: [DEBG] persisted index 68, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.351 raft_log.rs:500: [DEBG] committing index 68, index: 68, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.351 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.351 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.351 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 67 commit_index: 67 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.351 apply.rs:1277: [DEBG] applied command, index: 68, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.351 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 68 commit_index: 68 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.352 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 68, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.352 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.352 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.352 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.352 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.352 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.352 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 68, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.353 apply.rs:1277: [DEBG] applied command, index: 68, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.353 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.354 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.354 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.354 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.354 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.354 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.354 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.354 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.354 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.354 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.355 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 68 commit_index: 68 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.355 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.364 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 68 entries { term: 7 index: 69 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000381A080000000000000038 } commit: 68, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.364 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.364 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.364 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.364 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.364 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.365 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.365 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 69 commit: 68, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.365 raft_log.rs:536: [DEBG] persisted index 69, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.365 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.365 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.365 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.365 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.365 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.366 raft_log.rs:536: [DEBG] persisted index 69, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.366 raft_log.rs:500: [DEBG] committing index 69, index: 69, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.366 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.366 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.366 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.366 apply.rs:1277: [DEBG] applied command, index: 69, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.366 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 69 commit_index: 69 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.368 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.368 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.368 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.368 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.368 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.368 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.377 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 69, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.378 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.378 peer.rs:1662: [DEBG] rejecting sleeping, peer_id: 2, region_id: 1, reason: replication
test_push_non_witness_availability 2022/10/19 17:38:13.378 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.378 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.378 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.378 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.378 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 69, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.378 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.379 apply.rs:1277: [DEBG] applied command, index: 69, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 69 entries { term: 7 index: 70 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000391A080000000000000039 } commit: 69, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 raft.rs:666: [DEBG] ignore sending snapshot to 3 since it is not recently active, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.379 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.380 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.380 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.380 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 69 commit_index: 69 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.380 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.380 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.380 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.380 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 70 commit: 69, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.381 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.381 raft_log.rs:536: [DEBG] persisted index 70, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.381 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.381 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.382 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.382 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 70 commit: 69, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.382 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.382 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.382 raft_log.rs:536: [DEBG] persisted index 70, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.382 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.382 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.401 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.401 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.402 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.402 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.402 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.403 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.403 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.403 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 21
test_push_non_witness_availability 2022/10/19 17:38:13.403 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 70 commit: 69, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.403 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.404 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.404 raft_log.rs:500: [DEBG] committing index 70, index: 70, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.404 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.404 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.404 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.404 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.404 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.404 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.405 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.405 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.405 apply.rs:1277: [DEBG] applied command, index: 70, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.405 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.405 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.405 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.405 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 70 commit_index: 70 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.414 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.415 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.416 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 70, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.416 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.416 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.416 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.416 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 70 entries { term: 7 index: 71 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003A1A08000000000000003A } commit: 70, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 70, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.417 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.418 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.418 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.418 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.418 apply.rs:1277: [DEBG] applied command, index: 70, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.418 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.418 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.418 raft_log.rs:536: [DEBG] persisted index 71, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.418 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 71 commit: 70, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.419 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 70 commit_index: 70 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.420 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.420 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.420 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 71 commit: 70, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.420 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.420 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.420 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.420 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.421 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 raft_log.rs:536: [DEBG] persisted index 71, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.421 raft_log.rs:500: [DEBG] committing index 71, index: 71, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 71 commit: 70, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 apply.rs:1277: [DEBG] applied command, index: 71, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.421 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.422 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 71 commit_index: 71 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.422 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.427 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.427 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.427 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.427 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.427 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.427 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.428 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.428 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.434 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 71 entries { term: 7 index: 72 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003B1A08000000000000003B } commit: 71, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.434 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.434 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.434 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 72 commit: 71, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 raft_log.rs:536: [DEBG] persisted index 72, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 apply.rs:1277: [DEBG] applied command, index: 71, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.435 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.436 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.436 raft_log.rs:536: [DEBG] persisted index 72, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.436 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.436 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.436 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 71 commit_index: 71 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.436 raft_log.rs:500: [DEBG] committing index 72, index: 72, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.436 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.437 apply.rs:1277: [DEBG] applied command, index: 72, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.437 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.437 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 72 commit_index: 72 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.440 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 72, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.440 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.440 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.441 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.441 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.441 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.441 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.441 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.442 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.442 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 72, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.442 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.442 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.442 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.442 apply.rs:1277: [DEBG] applied command, index: 72, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.442 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.443 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.443 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.443 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.443 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.443 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.443 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.443 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.443 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 72 commit_index: 72 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.449 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.449 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.449 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.449 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 72 entries { term: 7 index: 73 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003C1A08000000000000003C } commit: 72, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.449 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.449 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.449 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 73 commit: 72, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 raft_log.rs:536: [DEBG] persisted index 73, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.450 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.451 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.451 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.451 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.451 raft_log.rs:536: [DEBG] persisted index 73, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.451 raft_log.rs:500: [DEBG] committing index 73, index: 73, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.451 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.451 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.451 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.452 apply.rs:1277: [DEBG] applied command, index: 73, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.452 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.452 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 73 commit_index: 73 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.464 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 73, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.464 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.464 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.465 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.465 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.465 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.465 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.465 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.465 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 73, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.465 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.465 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 73 entries { term: 7 index: 74 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003D1A08000000000000003D } commit: 73, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.466 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.466 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.466 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.466 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability-0 2022/10/19 17:38:13.466 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.466 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.466 apply.rs:1277: [DEBG] applied command, index: 73, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.466 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.466 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.467 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 73 commit_index: 73 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.467 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.467 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.467 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.467 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.467 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.467 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 74 commit: 73, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 raft_log.rs:536: [DEBG] persisted index 74, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:13.468 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.468 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 74 commit: 73, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 raft_log.rs:536: [DEBG] persisted index 74, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.468 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.469 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 74 commit: 73, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 raft_log.rs:500: [DEBG] committing index 74, index: 74, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 apply.rs:1277: [DEBG] applied command, index: 74, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.470 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 74 commit_index: 74 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.471 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.472 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.472 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.472 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.472 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.472 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.475 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.475 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.476 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.483 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 74 entries { term: 7 index: 75 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003E1A08000000000000003E } commit: 74, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.483 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.483 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.483 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.483 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.483 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 75 commit: 74, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 raft_log.rs:536: [DEBG] persisted index 75, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 apply.rs:1277: [DEBG] applied command, index: 74, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.484 raft_log.rs:536: [DEBG] persisted index 75, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.484 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.485 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.485 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 74 commit_index: 74 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.485 raft_log.rs:500: [DEBG] committing index 75, index: 75, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.485 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.485 apply.rs:1277: [DEBG] applied command, index: 75, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.485 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 75 commit_index: 75 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.486 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.487 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 75, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.487 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.487 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.487 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.487 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.487 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.487 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 75, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 apply.rs:1277: [DEBG] applied command, index: 75, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.488 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.488 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.489 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.489 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.489 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.489 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 75 commit_index: 75 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.489 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.494 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.494 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.494 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.494 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.494 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.494 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.497 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.497 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.498 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 75 entries { term: 7 index: 76 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003F1A08000000000000003F } commit: 75, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.498 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.498 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.498 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.498 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.498 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.498 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 76 commit: 75, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.499 raft_log.rs:536: [DEBG] persisted index 76, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.499 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.499 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.499 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.499 raft_log.rs:536: [DEBG] persisted index 76, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.499 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.499 raft_log.rs:500: [DEBG] committing index 76, index: 76, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.499 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.500 apply.rs:1277: [DEBG] applied command, index: 76, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.500 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.500 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 76 commit_index: 76 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.509 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 76, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.509 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.509 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.509 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.509 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 76, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.510 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.511 apply.rs:1277: [DEBG] applied command, index: 76, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.511 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.511 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.511 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.511 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 76 commit_index: 76 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.511 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.511 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.511 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.512 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.512 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.512 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.512 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 76 entries { term: 7 index: 77 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000401A080000000000000040 } commit: 76, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 77 commit: 76, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 raft_log.rs:536: [DEBG] persisted index 77, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.513 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.514 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.514 raft_log.rs:536: [DEBG] persisted index 77, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.514 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.514 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.514 raft_log.rs:500: [DEBG] committing index 77, index: 77, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.514 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.514 apply.rs:1277: [DEBG] applied command, index: 77, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.515 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 77 commit_index: 77 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.516 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.516 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.516 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.516 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.516 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.516 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.521 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.521 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.527 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 77 entries { term: 7 index: 78 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000411A080000000000000041 } commit: 77, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.527 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.527 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.527 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 78 commit: 77, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 raft_log.rs:536: [DEBG] persisted index 78, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 apply.rs:1277: [DEBG] applied command, index: 77, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.528 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.529 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.529 raft_log.rs:536: [DEBG] persisted index 78, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.529 raft_log.rs:500: [DEBG] committing index 78, index: 78, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.529 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.529 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.529 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 77 commit_index: 77 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.529 apply.rs:1277: [DEBG] applied command, index: 78, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.529 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 78 commit_index: 78 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.534 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.535 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 78, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 78, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.535 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 apply.rs:1277: [DEBG] applied command, index: 78, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.536 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.536 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.537 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.537 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 78 commit_index: 78 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.537 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.537 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.537 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.537 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.537 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.538 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.538 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.538 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.542 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 78 entries { term: 7 index: 79 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000421A080000000000000042 } commit: 78, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.542 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.542 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.542 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.543 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.543 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.543 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 79 commit: 78, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.543 raft_log.rs:536: [DEBG] persisted index 79, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.543 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.543 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.543 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.543 raft_log.rs:536: [DEBG] persisted index 79, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.544 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.544 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.544 raft_log.rs:500: [DEBG] committing index 79, index: 79, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.544 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.544 apply.rs:1277: [DEBG] applied command, index: 79, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.544 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 79 commit_index: 79 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.546 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.547 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.557 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 79 entries { term: 7 index: 80 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000431A080000000000000043 } commit: 79, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.557 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.557 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.557 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.557 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.557 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 80 commit: 79, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 raft_log.rs:536: [DEBG] persisted index 80, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 apply.rs:1277: [DEBG] applied command, index: 79, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.558 raft_log.rs:536: [DEBG] persisted index 80, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.558 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.559 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.559 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 79 commit_index: 79 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.559 raft_log.rs:500: [DEBG] committing index 80, index: 80, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.559 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.559 apply.rs:1277: [DEBG] applied command, index: 80, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.559 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 80, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.559 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.560 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 80, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 80 commit_index: 80 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.561 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.562 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.562 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.562 apply.rs:1277: [DEBG] applied command, index: 80, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.562 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.562 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.562 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.562 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.562 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.563 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.563 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.563 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 80 commit_index: 80 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.563 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.563 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.569 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.569 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.569 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.570 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.570 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 80 entries { term: 7 index: 81 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000441A080000000000000044 } commit: 80, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.570 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.570 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.570 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.570 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.571 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.571 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 81 commit: 80, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.571 raft_log.rs:536: [DEBG] persisted index 81, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.571 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.571 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.571 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.571 raft_log.rs:536: [DEBG] persisted index 81, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.571 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.572 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.572 raft_log.rs:500: [DEBG] committing index 81, index: 81, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.572 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.572 apply.rs:1277: [DEBG] applied command, index: 81, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.572 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 81 commit_index: 81 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.582 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.582 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.582 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.582 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 81, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.582 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.583 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 81, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 apply.rs:1277: [DEBG] applied command, index: 81, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.584 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.584 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.585 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.585 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.585 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.585 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.585 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 81 commit_index: 81 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.585 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.585 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 81 entries { term: 7 index: 82 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000451A080000000000000045 } commit: 81, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 82 commit: 81, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 raft_log.rs:536: [DEBG] persisted index 82, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.586 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.587 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.587 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.587 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.587 raft_log.rs:536: [DEBG] persisted index 82, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.587 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.587 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.587 raft_log.rs:500: [DEBG] committing index 82, index: 82, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.587 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.588 apply.rs:1277: [DEBG] applied command, index: 82, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.588 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.588 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 82 commit_index: 82 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.594 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.594 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.598 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 82 entries { term: 7 index: 83 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000461A080000000000000046 } commit: 82, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 83 commit: 82, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.599 raft_log.rs:536: [DEBG] persisted index 83, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 apply.rs:1277: [DEBG] applied command, index: 82, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.600 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 raft_log.rs:536: [DEBG] persisted index 83, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 raft_log.rs:500: [DEBG] committing index 83, index: 83, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.600 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 82 commit_index: 82 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.601 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.601 apply.rs:1277: [DEBG] applied command, index: 83, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.601 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 83 commit_index: 83 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.603 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.606 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.606 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 83, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.606 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.607 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 83, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.608 apply.rs:1277: [DEBG] applied command, index: 83, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.609 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.609 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 83 commit_index: 83 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.610 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.612 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 83 entries { term: 7 index: 84 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000471A080000000000000047 } commit: 83, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.612 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.612 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.612 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.612 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.612 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.612 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 84 commit: 83, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 raft_log.rs:536: [DEBG] persisted index 84, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.613 raft_log.rs:536: [DEBG] persisted index 84, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 raft_log.rs:500: [DEBG] committing index 84, index: 84, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.613 apply.rs:1277: [DEBG] applied command, index: 84, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.614 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 84 commit_index: 84 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.618 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.618 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.626 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 84 entries { term: 7 index: 85 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000481A080000000000000048 } commit: 84, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.626 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.626 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 85 commit: 84, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 raft_log.rs:536: [DEBG] persisted index 85, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.627 apply.rs:1277: [DEBG] applied command, index: 84, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.628 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.628 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.628 raft_log.rs:536: [DEBG] persisted index 85, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.628 raft_log.rs:500: [DEBG] committing index 85, index: 85, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.628 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.628 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.628 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 84 commit_index: 84 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.628 apply.rs:1277: [DEBG] applied command, index: 85, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.629 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.629 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 85 commit_index: 85 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.631 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.631 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 85, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.632 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 85, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 apply.rs:1277: [DEBG] applied command, index: 85, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.633 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.634 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.634 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.634 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.634 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.634 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.634 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.634 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.635 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 85 commit_index: 85 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.635 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 85 entries { term: 7 index: 86 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000491A080000000000000049 } commit: 85, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 86 commit: 85, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.641 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.642 raft_log.rs:536: [DEBG] persisted index 86, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.642 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.642 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.642 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.642 raft_log.rs:500: [DEBG] committing index 86, index: 86, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.642 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.642 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.642 raft_log.rs:536: [DEBG] persisted index 86, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.643 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.643 apply.rs:1277: [DEBG] applied command, index: 86, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.643 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.643 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.643 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 86 commit_index: 86 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.654 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 86, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.654 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.654 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.655 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 86 entries { term: 7 index: 87 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004A1A08000000000000004A } commit: 86, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.655 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.656 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.656 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 86, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.656 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.656 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.656 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.656 apply.rs:1277: [DEBG] applied command, index: 86, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.656 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.656 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 87 commit: 86, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 raft_log.rs:536: [DEBG] persisted index 87, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.657 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 3 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:13.658 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.658 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.658 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.658 raft_log.rs:536: [DEBG] persisted index 87, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.658 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.658 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.658 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 87 commit: 86, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.658 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 86 commit_index: 86 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.659 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 87 commit: 86, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 raft_log.rs:500: [DEBG] committing index 87, index: 87, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 apply.rs:1277: [DEBG] applied command, index: 87, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.660 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.661 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 87 commit_index: 87 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.666 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.666 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.672 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.672 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.672 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.673 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 87 entries { term: 7 index: 88 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004B1A08000000000000004B } commit: 87, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.673 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.673 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.673 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 88 commit: 87, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 raft_log.rs:536: [DEBG] persisted index 88, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 apply.rs:1277: [DEBG] applied command, index: 87, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.674 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.675 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.675 raft_log.rs:536: [DEBG] persisted index 88, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.675 raft_log.rs:500: [DEBG] committing index 88, index: 88, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.675 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.675 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.675 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 87 commit_index: 87 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.675 apply.rs:1277: [DEBG] applied command, index: 88, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.675 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 88 commit_index: 88 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.677 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.678 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 88, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.678 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.678 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.678 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.678 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.678 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.678 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.678 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 88, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 apply.rs:1277: [DEBG] applied command, index: 88, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.679 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.679 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.680 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.680 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 88 commit_index: 88 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.680 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.680 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.680 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.680 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.681 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.681 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.681 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.681 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.681 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.688 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 88 entries { term: 7 index: 89 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004C1A08000000000000004C } commit: 88, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.688 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.688 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.688 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 89 commit: 88, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 raft_log.rs:536: [DEBG] persisted index 89, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.689 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.690 peer.rs:1662: [DEBG] rejecting sleeping, peer_id: 2, region_id: 1, reason: replication
test_push_non_witness_availability 2022/10/19 17:38:13.690 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.690 raft_log.rs:536: [DEBG] persisted index 89, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.690 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.690 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.690 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.690 raft_log.rs:500: [DEBG] committing index 89, index: 89, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.690 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.691 apply.rs:1277: [DEBG] applied command, index: 89, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.691 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.691 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 89 commit_index: 89 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.703 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 89, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.703 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.704 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.704 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.704 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.704 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.704 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.704 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.704 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.705 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.705 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.705 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.705 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.705 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 89, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.705 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.705 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.706 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.706 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.706 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 89 entries { term: 7 index: 90 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004D1A08000000000000004D } commit: 89, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.706 raft.rs:666: [DEBG] ignore sending snapshot to 3 since it is not recently active, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.706 apply.rs:1277: [DEBG] applied command, index: 89, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.706 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.706 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.706 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.707 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.707 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.707 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.707 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 89 commit_index: 89 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.707 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.707 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.707 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 90 commit: 89, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.708 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.708 raft_log.rs:536: [DEBG] persisted index 90, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.708 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.708 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.708 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.708 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.708 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 90 commit: 89, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.708 raft_log.rs:536: [DEBG] persisted index 90, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.708 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.709 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 90 commit: 89, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 raft_log.rs:500: [DEBG] committing index 90, index: 90, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 apply.rs:1277: [DEBG] applied command, index: 90, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.710 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.711 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 90 commit_index: 90 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.714 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.714 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.722 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.733 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:13.733 pool.rs:123: [DEBG] scheduling task compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(58.458µs), store_process_duration: Some(18.75µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-1 2022/10/19 17:38:13.734 raftlog_gc.rs:122: [DEBG] gc raft log, end_index: 9, start_index: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 90, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.734 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:13.734 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 90 entries { term: 7 index: 91 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004E1A08000000000000004E } commit: 90, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.734 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.735 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(58.458µs), store_process_duration: Some(18.75µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:13.735 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability-1 2022/10/19 17:38:13.735 raftlog_gc.rs:122: [DEBG] gc raft log, end_index: 11, start_index: 9, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.735 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_push_non_witness_availability-0 2022/10/19 17:38:13.735 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:13.735 raft_log.rs:536: [DEBG] persisted index 91, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 3 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.736 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.736 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 90, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability-1 2022/10/19 17:38:13.736 raftlog_gc.rs:154: [DEBG] gc log entries, entry_count: 10
test_push_non_witness_availability 2022/10/19 17:38:13.736 apply.rs:1277: [DEBG] applied command, index: 90, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.736 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 91 commit: 90, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 91 commit: 90, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 90 commit_index: 90 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 91 commit: 90, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.737 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.738 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.738 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.738 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.738 raft_log.rs:536: [DEBG] persisted index 91, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.738 raft_log.rs:500: [DEBG] committing index 91, index: 91, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.738 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.738 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.738 apply.rs:1277: [DEBG] applied command, index: 91, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.738 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.739 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 91 commit_index: 91 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.748 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.751 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 91 entries { term: 7 index: 92 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004F1A08000000000000004F } commit: 91, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.751 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.751 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 92 commit: 91, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 raft_log.rs:536: [DEBG] persisted index 92, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 apply.rs:1277: [DEBG] applied command, index: 91, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.752 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.752 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.753 raft_log.rs:536: [DEBG] persisted index 92, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.753 raft_log.rs:500: [DEBG] committing index 92, index: 92, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.753 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.753 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.753 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 91 commit_index: 91 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.753 apply.rs:1277: [DEBG] applied command, index: 92, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.753 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 92 commit_index: 92 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.759 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.759 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.759 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.759 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.759 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 92, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.759 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.760 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.760 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.760 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.760 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.760 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.760 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.761 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.761 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.761 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 92, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.779 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.779 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.779 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:13.779 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:13.779 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.779 apply.rs:1277: [DEBG] applied command, index: 92, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.780 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.780 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability-1 2022/10/19 17:38:13.780 raftlog_gc.rs:122: [DEBG] gc raft log, end_index: 9, start_index: 0, region_id: 1
test_push_non_witness_availability-1 2022/10/19 17:38:13.780 raftlog_gc.rs:122: [DEBG] gc raft log, end_index: 11, start_index: 9, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.780 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:13.780 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.780 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.780 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 19
test_push_non_witness_availability 2022/10/19 17:38:13.780 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.781 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_push_non_witness_availability-1 2022/10/19 17:38:13.781 raftlog_gc.rs:154: [DEBG] gc log entries, entry_count: 10
test_push_non_witness_availability-0 2022/10/19 17:38:13.781 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:13.781 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 92 entries { term: 7 index: 93 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000501A080000000000000050 } commit: 92, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.781 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.781 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 20
test_push_non_witness_availability-0 2022/10/19 17:38:13.781 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.781 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.781 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 92 commit_index: 92 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.782 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability-0 2022/10/19 17:38:13.782 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:13.782 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.782 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.782 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.782 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.782 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 93 commit: 92, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.782 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.783 pool.rs:123: [DEBG] scheduling task compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(15.641ms), store_process_duration: Some(2.692416ms), store_write_duration: Some(296.333µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:13.783 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.783 raft_log.rs:536: [DEBG] persisted index 93, raft_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.783 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(15.641ms), store_process_duration: Some(2.692416ms), store_write_duration: Some(296.333µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:13.783 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:13.783 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.783 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.783 raft_log.rs:536: [DEBG] persisted index 93, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 93 commit: 92, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.784 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 93 commit: 92, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 raft_log.rs:500: [DEBG] committing index 93, index: 93, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 apply.rs:1277: [DEBG] applied command, index: 93, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.785 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 93 commit_index: 93 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.795 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 93, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.796 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.796 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.796 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.796 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.814 pool.rs:123: [DEBG] scheduling task compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(35.709µs), store_process_duration: Some(13.458µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:13.814 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:13.814 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:13.815 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.815 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(35.709µs), store_process_duration: Some(13.458µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:13.815 raftlog_gc.rs:122: [DEBG] gc raft log, end_index: 9, start_index: 0, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.815 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:13.815 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.815 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.815 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability-0 2022/10/19 17:38:13.815 raftlog_gc.rs:154: [DEBG] gc log entries, entry_count: 3
test_push_non_witness_availability 2022/10/19 17:38:13.815 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.816 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 19
test_push_non_witness_availability 2022/10/19 17:38:13.816 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 93, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:13.816 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:13.816 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.816 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.816 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.816 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.817 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.817 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.817 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.817 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.817 apply.rs:1277: [DEBG] applied command, index: 93, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.817 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.817 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.817 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.817 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.818 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 93 entries { term: 7 index: 94 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000511A080000000000000051 } commit: 93, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.818 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.818 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 93 commit_index: 93 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.818 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.818 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.818 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.818 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.819 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.819 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 94 commit: 93, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.819 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.819 raft_log.rs:536: [DEBG] persisted index 94, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.819 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.819 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:13.819 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.819 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.819 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 raft_log.rs:536: [DEBG] persisted index 94, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 94 commit: 93, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.820 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 94 commit: 93, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 raft_log.rs:500: [DEBG] committing index 94, index: 94, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.821 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.822 apply.rs:1277: [DEBG] applied command, index: 94, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.822 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.822 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.822 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 94 commit_index: 94 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.826 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.829 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.835 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 94 entries { term: 7 index: 95 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000521A080000000000000052 } commit: 94, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 95 commit: 94, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 raft_log.rs:536: [DEBG] persisted index 95, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.835 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.836 apply.rs:1277: [DEBG] applied command, index: 94, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.836 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.836 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.836 raft_log.rs:536: [DEBG] persisted index 95, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.836 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.836 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.836 raft_log.rs:500: [DEBG] committing index 95, index: 95, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.836 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 94 commit_index: 94 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.837 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.837 apply.rs:1277: [DEBG] applied command, index: 95, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.837 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 95 commit_index: 95 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.838 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 95, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.838 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.838 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.838 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 95, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.839 apply.rs:1277: [DEBG] applied command, index: 95, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.840 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.840 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.840 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.840 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.840 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.840 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.840 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.840 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 95 commit_index: 95 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.841 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.841 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.842 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.842 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.842 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.842 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.842 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.842 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.850 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.850 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 95 entries { term: 7 index: 96 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000531A080000000000000053 } commit: 95, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.850 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.850 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.850 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.850 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.850 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.850 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 96 commit: 95, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 raft_log.rs:536: [DEBG] persisted index 96, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.851 raft_log.rs:536: [DEBG] persisted index 96, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.851 raft_log.rs:500: [DEBG] committing index 96, index: 96, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.852 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.852 apply.rs:1277: [DEBG] applied command, index: 96, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.852 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.852 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 96 commit_index: 96 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.863 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 96, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.863 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.863 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.863 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.863 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.863 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.863 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.864 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.864 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.864 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.864 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.864 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.864 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.864 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 96, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 apply.rs:1277: [DEBG] applied command, index: 96, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 96 entries { term: 7 index: 97 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000541A080000000000000054 } commit: 96, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.865 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.866 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.866 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.866 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.866 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.866 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 96 commit_index: 96 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.866 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.866 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.866 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 97 commit: 96, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 raft_log.rs:536: [DEBG] persisted index 97, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.867 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.867 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 raft_log.rs:536: [DEBG] persisted index 97, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.867 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.868 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.868 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.868 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.868 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 97 commit: 96, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.868 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.868 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.868 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 97 commit: 96, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 raft_log.rs:500: [DEBG] committing index 97, index: 97, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 apply.rs:1277: [DEBG] applied command, index: 97, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.869 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.870 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 97 commit_index: 97 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.875 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.876 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.876 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.882 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 97 entries { term: 7 index: 98 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000551A080000000000000055 } commit: 97, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.882 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.882 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.882 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 98 commit: 97, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 raft_log.rs:536: [DEBG] persisted index 98, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 apply.rs:1277: [DEBG] applied command, index: 97, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.883 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.883 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.884 raft_log.rs:536: [DEBG] persisted index 98, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.884 raft_log.rs:500: [DEBG] committing index 98, index: 98, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.884 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.884 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.884 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 97 commit_index: 97 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.884 apply.rs:1277: [DEBG] applied command, index: 98, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.884 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.884 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.885 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.885 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 98 commit_index: 98 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.886 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 98, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.886 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.886 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.886 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.886 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.886 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 98, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.887 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.887 apply.rs:1277: [DEBG] applied command, index: 98, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.888 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.888 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.888 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.888 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.888 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.888 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.888 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.889 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.889 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.889 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.889 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 98 commit_index: 98 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.889 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.889 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.889 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.889 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.890 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.897 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 98 entries { term: 7 index: 99 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000561A080000000000000056 } commit: 98, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.897 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.897 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.897 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 99 commit: 98, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 raft_log.rs:536: [DEBG] persisted index 99, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.898 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.899 raft_log.rs:536: [DEBG] persisted index 99, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.899 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.899 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.899 raft_log.rs:500: [DEBG] committing index 99, index: 99, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.899 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.899 apply.rs:1277: [DEBG] applied command, index: 99, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.899 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 99 commit_index: 99 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.900 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.909 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 99, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 99 entries { term: 7 index: 100 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000571A080000000000000057 } commit: 99, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.910 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 99, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 apply.rs:1277: [DEBG] applied command, index: 99, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.911 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.911 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.912 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.912 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.912 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.912 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.912 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.912 raft_log.rs:536: [DEBG] persisted index 100, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.912 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.912 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 99 commit_index: 99 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.913 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 100 commit: 99, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.913 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 100 commit: 99, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.914 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.914 raft_log.rs:536: [DEBG] persisted index 100, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.915 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.915 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.915 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.915 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.915 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.915 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.915 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 100 commit: 99, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.915 raft_log.rs:500: [DEBG] committing index 100, index: 100, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.915 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.916 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.916 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.916 apply.rs:1277: [DEBG] applied command, index: 100, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.916 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.916 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.916 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 100 commit_index: 100 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.925 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.929 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 100 entries { term: 7 index: 101 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000581A080000000000000058 } commit: 100, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.929 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.929 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.929 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.929 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.929 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.929 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 101 commit: 100, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.929 raft_log.rs:536: [DEBG] persisted index 101, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.930 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.930 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.930 apply.rs:1277: [DEBG] applied command, index: 100, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.930 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.930 raft_log.rs:536: [DEBG] persisted index 101, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.930 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.930 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.930 raft_log.rs:500: [DEBG] committing index 101, index: 101, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.931 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 100 commit_index: 100 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.931 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.931 apply.rs:1277: [DEBG] applied command, index: 101, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.931 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 101 commit_index: 101 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.932 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 101, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.932 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.932 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.932 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 101, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 apply.rs:1277: [DEBG] applied command, index: 101, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.933 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.934 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.934 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.934 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 101 commit_index: 101 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.934 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.934 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.934 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.934 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.935 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.936 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.937 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.937 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.937 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.937 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.937 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.937 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.937 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.944 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 101 entries { term: 7 index: 102 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000591A080000000000000059 } commit: 101, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.944 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.944 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.944 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.944 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.944 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.945 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 102 commit: 101, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.945 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.945 raft_log.rs:536: [DEBG] persisted index 102, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.945 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.945 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.945 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.945 raft_log.rs:536: [DEBG] persisted index 102, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.945 raft_log.rs:500: [DEBG] committing index 102, index: 102, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.946 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.946 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.946 apply.rs:1277: [DEBG] applied command, index: 102, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.946 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 102 commit_index: 102 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.947 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.957 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 102, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.957 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.957 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 102 entries { term: 7 index: 103 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005A1A08000000000000005A } commit: 102, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.957 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.957 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.957 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.957 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 102, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.958 apply.rs:1277: [DEBG] applied command, index: 102, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 raft_log.rs:536: [DEBG] persisted index 103, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.959 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 3 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.959 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.959 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.959 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.960 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 103 commit: 102, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.960 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.960 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.960 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.960 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.960 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.960 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 102 commit_index: 102 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 103 commit: 102, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.961 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.961 raft_log.rs:536: [DEBG] persisted index 103, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.961 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:13.962 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 raft_log.rs:500: [DEBG] committing index 103, index: 103, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 103 commit: 102, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 apply.rs:1277: [DEBG] applied command, index: 103, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.962 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.963 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 103 commit_index: 103 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.968 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.972 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.975 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 103 entries { term: 7 index: 104 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005B1A08000000000000005B } commit: 103, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.975 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.975 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.975 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.975 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 104 commit: 103, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 raft_log.rs:536: [DEBG] persisted index 104, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 apply.rs:1277: [DEBG] applied command, index: 103, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.976 raft_log.rs:536: [DEBG] persisted index 104, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.976 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.977 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 103 commit_index: 103 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.977 raft_log.rs:500: [DEBG] committing index 104, index: 104, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.977 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.977 apply.rs:1277: [DEBG] applied command, index: 104, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.977 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 104 commit_index: 104 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.980 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 104, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.980 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.980 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 104, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 apply.rs:1277: [DEBG] applied command, index: 104, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.981 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.982 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.982 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 104 commit_index: 104 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.982 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.982 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.982 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.982 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.983 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.983 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.983 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:13.983 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.984 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.984 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.984 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.986 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.986 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:13.986 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:13.990 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 104 entries { term: 7 index: 105 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005C1A08000000000000005C } commit: 104, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.990 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.990 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.990 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.990 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.990 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.991 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 105 commit: 104, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.991 raft_log.rs:536: [DEBG] persisted index 105, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.991 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.991 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.991 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.991 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:13.991 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.992 raft_log.rs:536: [DEBG] persisted index 105, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.992 raft_log.rs:500: [DEBG] committing index 105, index: 105, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.992 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:13.992 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.992 apply.rs:1277: [DEBG] applied command, index: 105, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.992 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 105 commit_index: 105 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:13.994 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:13.999 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 105 entries { term: 7 index: 106 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005D1A08000000000000005D } commit: 105, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 106 commit: 105, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 raft_log.rs:536: [DEBG] persisted index 106, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.003 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 105, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 apply.rs:1277: [DEBG] applied command, index: 105, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.004 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 raft_log.rs:536: [DEBG] persisted index 106, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.004 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 105 commit_index: 105 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.005 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 105, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 raft_log.rs:500: [DEBG] committing index 106, index: 106, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.006 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.006 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.007 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 apply.rs:1277: [DEBG] applied command, index: 106, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.007 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.008 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.008 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.008 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 106 commit_index: 106 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.014 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.020 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 106 entries { term: 7 index: 107 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005E1A08000000000000005E } commit: 106, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 107 commit: 106, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 raft_log.rs:536: [DEBG] persisted index 107, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.020 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 apply.rs:1277: [DEBG] applied command, index: 106, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.021 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 raft_log.rs:536: [DEBG] persisted index 107, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 raft_log.rs:500: [DEBG] committing index 107, index: 107, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.021 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 106 commit_index: 106 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.022 apply.rs:1277: [DEBG] applied command, index: 107, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.022 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.022 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 107 commit_index: 107 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.027 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 107, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.027 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.027 peer.rs:1662: [DEBG] rejecting sleeping, peer_id: 2, region_id: 1, reason: replication
test_push_non_witness_availability 2022/10/19 17:38:14.027 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.027 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 107, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.028 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 apply.rs:1277: [DEBG] applied command, index: 107, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.029 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.029 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 107 commit_index: 107 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.030 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.034 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 107 entries { term: 7 index: 108 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005F1A08000000000000005F } commit: 107, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 108 commit: 107, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 raft_log.rs:536: [DEBG] persisted index 108, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.035 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.036 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.036 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.036 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.036 raft_log.rs:536: [DEBG] persisted index 108, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.036 raft_log.rs:500: [DEBG] committing index 108, index: 108, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.036 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.036 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.037 apply.rs:1277: [DEBG] applied command, index: 108, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.037 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.037 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 108 commit_index: 108 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.041 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.048 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 108 entries { term: 7 index: 109 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000601A080000000000000060 } commit: 108, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.048 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.048 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.048 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 109 commit: 108, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 raft_log.rs:536: [DEBG] persisted index 109, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 apply.rs:1277: [DEBG] applied command, index: 108, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.049 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.050 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.050 raft_log.rs:536: [DEBG] persisted index 109, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.050 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.050 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.050 raft_log.rs:500: [DEBG] committing index 109, index: 109, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.050 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 108 commit_index: 108 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.050 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 apply.rs:1277: [DEBG] applied command, index: 109, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 109, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.051 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 109, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.052 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.052 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.052 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.052 apply.rs:1277: [DEBG] applied command, index: 109, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.052 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.052 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 109 commit_index: 109 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.052 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.052 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.052 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.053 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.053 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.053 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.053 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.053 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.053 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.053 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 109 commit_index: 109 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.053 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.054 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.054 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.054 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.054 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.054 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.054 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.054 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.060 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.060 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.062 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 109 entries { term: 7 index: 110 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000611A080000000000000061 } commit: 109, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.062 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.062 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 110 commit: 109, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 raft_log.rs:536: [DEBG] persisted index 110, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.063 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.064 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.064 raft_log.rs:536: [DEBG] persisted index 110, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.064 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.064 raft_log.rs:500: [DEBG] committing index 110, index: 110, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.064 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.064 apply.rs:1277: [DEBG] applied command, index: 110, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.064 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.064 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 110 commit_index: 110 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.073 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 110, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.073 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.073 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.073 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.073 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.073 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 110, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 apply.rs:1277: [DEBG] applied command, index: 110, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.074 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.074 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.075 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.075 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 110 commit_index: 110 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.075 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.075 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.075 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.075 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.076 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.076 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.076 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.076 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.076 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.076 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.076 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.076 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.077 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 110 entries { term: 7 index: 111 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000621A080000000000000062 } commit: 110, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.077 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.077 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.077 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.077 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.077 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.077 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 111 commit: 110, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 raft_log.rs:536: [DEBG] persisted index 111, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.078 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 raft_log.rs:536: [DEBG] persisted index 111, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 raft_log.rs:500: [DEBG] committing index 111, index: 111, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.078 apply.rs:1277: [DEBG] applied command, index: 111, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.079 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.079 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 111 commit_index: 111 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.084 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.087 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.090 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 111 entries { term: 7 index: 112 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000631A080000000000000063 } commit: 111, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.090 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 112 commit: 111, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 raft_log.rs:536: [DEBG] persisted index 112, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.091 apply.rs:1277: [DEBG] applied command, index: 111, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.091 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.091 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:14.092 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.092 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.092 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.092 raft_log.rs:536: [DEBG] persisted index 112, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.092 raft_log.rs:500: [DEBG] committing index 112, index: 112, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.092 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.092 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.092 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 111 commit_index: 111 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.092 apply.rs:1277: [DEBG] applied command, index: 112, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.093 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 112 commit_index: 112 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.095 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 112, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.095 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.095 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.095 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 112, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.096 apply.rs:1277: [DEBG] applied command, index: 112, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.097 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.097 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.097 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.097 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.097 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.097 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.097 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.097 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 112 commit_index: 112 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.098 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.104 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.105 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 112 entries { term: 7 index: 113 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000641A080000000000000064 } commit: 112, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.105 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.105 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.105 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.105 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.105 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.105 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 113 commit: 112, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.105 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 raft_log.rs:536: [DEBG] persisted index 113, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.106 raft_log.rs:536: [DEBG] persisted index 113, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 raft_log.rs:500: [DEBG] committing index 113, index: 113, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.106 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.107 apply.rs:1277: [DEBG] applied command, index: 113, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.107 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.107 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 113 commit_index: 113 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.107 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.109 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.119 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 113, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.120 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 113 entries { term: 7 index: 114 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000651A080000000000000065 } commit: 113, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.120 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 113, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.121 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 apply.rs:1277: [DEBG] applied command, index: 113, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.122 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 raft_log.rs:536: [DEBG] persisted index 114, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.122 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.123 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 3 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:14.123 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.123 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.123 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 114 commit: 113, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.123 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.123 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 113 commit_index: 113 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.123 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.123 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 114 commit: 113, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.124 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 raft_log.rs:536: [DEBG] persisted index 114, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.124 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:14.125 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 114 commit: 113, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 raft_log.rs:500: [DEBG] committing index 114, index: 114, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.125 apply.rs:1277: [DEBG] applied command, index: 114, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.126 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.126 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.126 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 114 commit_index: 114 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.131 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.131 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.138 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 114 entries { term: 7 index: 115 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000661A080000000000000066 } commit: 114, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.138 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 115 commit: 114, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 raft_log.rs:536: [DEBG] persisted index 115, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.139 apply.rs:1277: [DEBG] applied command, index: 114, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.140 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.140 raft_log.rs:536: [DEBG] persisted index 115, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.140 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.140 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.140 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 114 commit_index: 114 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.140 raft_log.rs:500: [DEBG] committing index 115, index: 115, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.140 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.141 apply.rs:1277: [DEBG] applied command, index: 115, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.141 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.141 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 115 commit_index: 115 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.142 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.144 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 115, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.144 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.144 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.144 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.144 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 115, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 apply.rs:1277: [DEBG] applied command, index: 115, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.145 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.145 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 115 commit_index: 115 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.146 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.146 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.146 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.146 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.146 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.146 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.146 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.147 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.147 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.147 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 115 entries { term: 7 index: 116 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000671A080000000000000067 } commit: 115, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 116 commit: 115, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 raft_log.rs:536: [DEBG] persisted index 116, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.152 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.153 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.153 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.153 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.153 raft_log.rs:536: [DEBG] persisted index 116, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.153 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.153 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.153 raft_log.rs:500: [DEBG] committing index 116, index: 116, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.153 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.154 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.154 apply.rs:1277: [DEBG] applied command, index: 116, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.154 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.154 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 116 commit_index: 116 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.166 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 116, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.166 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.166 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.166 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.166 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.166 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.167 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 116, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.167 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.167 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.167 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.167 apply.rs:1277: [DEBG] applied command, index: 116, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.167 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.167 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.167 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 116 commit_index: 116 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.168 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 116 entries { term: 7 index: 117 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000681A080000000000000068 } commit: 116, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.168 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.168 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.168 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.168 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.168 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.168 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.169 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.169 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 117 commit: 116, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.169 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.169 raft_log.rs:536: [DEBG] persisted index 117, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.169 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.169 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:14.169 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.169 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.170 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 117 commit: 116, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.170 raft_log.rs:536: [DEBG] persisted index 117, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.170 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.170 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.170 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.170 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.170 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.170 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 117 commit: 116, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.171 raft_log.rs:500: [DEBG] committing index 117, index: 117, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.172 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.172 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.172 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.172 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.172 apply.rs:1277: [DEBG] applied command, index: 117, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.172 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.172 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 117 commit_index: 117 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.178 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.178 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.185 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 117 entries { term: 7 index: 118 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000691A080000000000000069 } commit: 117, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 118 commit: 117, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 raft_log.rs:536: [DEBG] persisted index 118, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.185 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 apply.rs:1277: [DEBG] applied command, index: 117, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.186 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 raft_log.rs:536: [DEBG] persisted index 118, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 raft_log.rs:500: [DEBG] committing index 118, index: 118, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.186 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 117 commit_index: 117 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.187 apply.rs:1277: [DEBG] applied command, index: 118, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.187 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.187 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 118 commit_index: 118 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.188 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.189 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.189 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 118, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.189 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.189 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.189 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.189 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 118, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 apply.rs:1277: [DEBG] applied command, index: 118, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.190 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.191 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.191 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.191 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.191 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.191 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.191 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 118 commit_index: 118 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.191 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.193 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.194 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.194 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.194 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.194 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.194 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.194 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.194 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.194 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.199 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 118 entries { term: 7 index: 119 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006A1A08000000000000006A } commit: 118, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.200 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 119 commit: 118, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 raft_log.rs:536: [DEBG] persisted index 119, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.200 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.201 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.201 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.201 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.201 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.201 raft_log.rs:536: [DEBG] persisted index 119, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.201 raft_log.rs:500: [DEBG] committing index 119, index: 119, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.201 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.201 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.202 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.202 apply.rs:1277: [DEBG] applied command, index: 119, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.202 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.202 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 119 commit_index: 119 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.213 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 119, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.213 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.213 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.213 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.213 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 119, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 apply.rs:1277: [DEBG] applied command, index: 119, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.214 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.215 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.215 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 119 entries { term: 7 index: 120 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006B1A08000000000000006B } commit: 119, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.215 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.215 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.215 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.215 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 119 commit_index: 119 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.215 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.215 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 120 commit: 119, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 raft_log.rs:536: [DEBG] persisted index 120, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.216 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 120 commit: 119, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.217 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.217 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.217 raft_log.rs:536: [DEBG] persisted index 120, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.217 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.217 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.217 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.217 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.217 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 14, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 120 commit: 119, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.218 raft_log.rs:500: [DEBG] committing index 120, index: 120, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.219 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.219 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.219 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.219 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.219 apply.rs:1277: [DEBG] applied command, index: 120, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.219 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.219 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 120 commit_index: 120 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.225 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.225 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.232 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 120 entries { term: 7 index: 121 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006C1A08000000000000006C } commit: 120, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.232 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.232 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.232 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.232 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.232 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 121 commit: 120, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 raft_log.rs:536: [DEBG] persisted index 121, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 apply.rs:1277: [DEBG] applied command, index: 120, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.233 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 raft_log.rs:536: [DEBG] persisted index 121, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.233 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.234 raft_log.rs:500: [DEBG] committing index 121, index: 121, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.234 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 120 commit_index: 120 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.234 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.234 apply.rs:1277: [DEBG] applied command, index: 121, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.234 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 121 commit_index: 121 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.236 pool.rs:123: [DEBG] scheduling task compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(27.834µs), store_process_duration: Some(19.416µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:14.236 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(27.834µs), store_process_duration: Some(19.416µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.238 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.238 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 121, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.238 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.238 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 121, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.239 apply.rs:1277: [DEBG] applied command, index: 121, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.240 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.240 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.240 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.240 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.240 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.240 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.240 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.240 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 121 commit_index: 121 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.241 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.241 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.241 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.241 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.241 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.241 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.241 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.247 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 121 entries { term: 7 index: 122 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006D1A08000000000000006D } commit: 121, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.247 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.247 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.247 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.247 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.247 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.247 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 122 commit: 121, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 raft_log.rs:536: [DEBG] persisted index 122, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.248 raft_log.rs:536: [DEBG] persisted index 122, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 raft_log.rs:500: [DEBG] committing index 122, index: 122, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.248 apply.rs:1277: [DEBG] applied command, index: 122, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.249 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.249 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 122 commit_index: 122 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.249 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.249 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.261 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 122 entries { term: 7 index: 123 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006E1A08000000000000006E } commit: 122, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.261 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 123 commit: 122, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 raft_log.rs:536: [DEBG] persisted index 123, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.262 apply.rs:1277: [DEBG] applied command, index: 122, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.263 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 122, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 raft_log.rs:536: [DEBG] persisted index 123, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.263 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 122 commit_index: 122 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.264 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 122, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.265 raft_log.rs:500: [DEBG] committing index 123, index: 123, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 apply.rs:1277: [DEBG] applied command, index: 123, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.266 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.267 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.267 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.267 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.267 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.267 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 123 commit_index: 123 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.267 pool.rs:123: [DEBG] scheduling task compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(1.071708ms), store_process_duration: Some(848.209µs), store_write_duration: Some(334ns), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.267 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.268 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(1.071708ms), store_process_duration: Some(848.209µs), store_write_duration: Some(334ns), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.274 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.275 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.279 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 123 entries { term: 7 index: 124 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006F1A08000000000000006F } commit: 123, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.279 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.279 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.279 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.279 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.280 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.280 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 124 commit: 123, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.280 raft_log.rs:536: [DEBG] persisted index 124, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.280 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.280 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.280 apply.rs:1277: [DEBG] applied command, index: 123, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.280 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.280 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.281 raft_log.rs:536: [DEBG] persisted index 124, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.281 raft_log.rs:500: [DEBG] committing index 124, index: 124, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.281 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.281 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.281 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 123 commit_index: 123 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.281 apply.rs:1277: [DEBG] applied command, index: 124, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.281 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 124 commit_index: 124 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.286 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.287 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.287 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.287 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.287 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 124, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.287 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.287 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.287 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.287 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 124, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.288 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 apply.rs:1277: [DEBG] applied command, index: 124, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.289 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.289 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.290 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.290 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.290 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 124 commit_index: 124 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.290 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.290 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.294 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 124 entries { term: 7 index: 125 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000701A080000000000000070 } commit: 124, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.294 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.294 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.294 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.294 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.294 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.295 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 125 commit: 124, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.295 raft_log.rs:536: [DEBG] persisted index 125, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.295 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.295 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.295 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.295 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.295 raft_log.rs:536: [DEBG] persisted index 125, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.295 raft_log.rs:500: [DEBG] committing index 125, index: 125, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.296 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.296 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.296 apply.rs:1277: [DEBG] applied command, index: 125, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.296 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 125 commit_index: 125 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.299 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.299 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.301 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:14.301 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:14.301 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.309 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 125 entries { term: 7 index: 126 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000711A080000000000000071 } commit: 125, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.309 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.309 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.309 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.309 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.309 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.309 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 126 commit: 125, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.310 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.310 raft_log.rs:536: [DEBG] persisted index 126, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.310 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.310 apply.rs:1277: [DEBG] applied command, index: 125, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.310 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.310 pool.rs:123: [DEBG] scheduling task compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(48.25µs), store_process_duration: Some(8.917µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.310 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.310 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.310 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(48.25µs), store_process_duration: Some(8.917µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.311 raft_log.rs:536: [DEBG] persisted index 126, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.311 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.311 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.311 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.311 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.311 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.311 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.311 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 125 commit_index: 125 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 125, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.312 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 125, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:14.313 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 raft_log.rs:500: [DEBG] committing index 126, index: 126, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.313 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 apply.rs:1277: [DEBG] applied command, index: 126, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.314 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.315 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 126 commit_index: 126 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.322 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.323 peer.rs:1662: [DEBG] rejecting sleeping, peer_id: 2, region_id: 1, reason: replication
test_push_non_witness_availability 2022/10/19 17:38:14.323 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.327 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 126 entries { term: 7 index: 127 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000721A080000000000000072 } commit: 126, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.327 raft.rs:666: [DEBG] ignore sending snapshot to 3 since it is not recently active, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.327 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.327 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 73, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.327 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.327 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.327 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 127 commit: 126, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 raft_log.rs:536: [DEBG] persisted index 127, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 apply.rs:1277: [DEBG] applied command, index: 126, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.328 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 raft_log.rs:536: [DEBG] persisted index 127, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 raft_log.rs:500: [DEBG] committing index 127, index: 127, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.328 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.329 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 126 commit_index: 126 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.329 apply.rs:1277: [DEBG] applied command, index: 127, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.329 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.329 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 127 commit_index: 127 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.334 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.334 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 127, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.334 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.334 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.334 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 127, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.335 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.335 apply.rs:1277: [DEBG] applied command, index: 127, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.336 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.336 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.336 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.336 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.336 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.336 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.336 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.336 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.337 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.337 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.337 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 127 commit_index: 127 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 59, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.337 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.337 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.337 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.337 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 127 entries { term: 7 index: 128 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000731A080000000000000073 } commit: 127, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 74, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 128 commit: 127, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 raft_log.rs:536: [DEBG] persisted index 128, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.342 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.343 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 13, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.343 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.343 raft_log.rs:536: [DEBG] persisted index 128, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.343 raft_log.rs:500: [DEBG] committing index 128, index: 128, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.343 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.343 apply.rs:1277: [DEBG] applied command, index: 128, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.343 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 128 commit_index: 128 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.345 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.345 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.356 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 128 entries { term: 7 index: 129 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000741A080000000000000074 } commit: 128, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.356 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.356 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.356 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.356 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 129 commit: 128, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 raft_log.rs:536: [DEBG] persisted index 129, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 apply.rs:1277: [DEBG] applied command, index: 128, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.357 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.357 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 128, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.358 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.358 raft_log.rs:536: [DEBG] persisted index 129, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.358 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.358 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.358 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.358 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.358 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 128 commit_index: 128 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 128, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.359 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 raft_log.rs:500: [DEBG] committing index 129, index: 129, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.360 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.360 apply.rs:1277: [DEBG] applied command, index: 129, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.361 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.362 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 129 commit_index: 129 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.362 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.369 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.369 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.373 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.373 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 129 entries { term: 7 index: 130 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000751A080000000000000075 } commit: 129, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.373 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 130 commit: 129, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 raft_log.rs:536: [DEBG] persisted index 130, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.374 apply.rs:1277: [DEBG] applied command, index: 129, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.375 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.375 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.375 raft_log.rs:536: [DEBG] persisted index 130, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.375 raft_log.rs:500: [DEBG] committing index 130, index: 130, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.375 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.375 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.375 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 129 commit_index: 129 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.375 apply.rs:1277: [DEBG] applied command, index: 130, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.376 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.376 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 130 commit_index: 130 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.381 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.381 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 130, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 130, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.382 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.383 apply.rs:1277: [DEBG] applied command, index: 130, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.383 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.383 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.383 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.383 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.383 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.383 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 130 commit_index: 130 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.383 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.384 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.384 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.384 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.384 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.384 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.384 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.384 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.385 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.385 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.385 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.385 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.388 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 130 entries { term: 7 index: 131 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000761A080000000000000076 } commit: 130, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.388 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 131 commit: 130, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 raft_log.rs:536: [DEBG] persisted index 131, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.389 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.390 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.390 raft_log.rs:536: [DEBG] persisted index 131, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.390 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.390 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.390 raft_log.rs:500: [DEBG] committing index 131, index: 131, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.390 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.390 apply.rs:1277: [DEBG] applied command, index: 131, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.390 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 131 commit_index: 131 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.393 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.394 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.403 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 131 entries { term: 7 index: 132 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000771A080000000000000077 } commit: 131, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.403 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.403 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.403 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.403 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.404 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.404 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 132 commit: 131, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.404 raft_log.rs:536: [DEBG] persisted index 132, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.404 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.404 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.404 apply.rs:1277: [DEBG] applied command, index: 131, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.404 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.404 raft_log.rs:536: [DEBG] persisted index 132, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.405 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.405 raft_log.rs:500: [DEBG] committing index 132, index: 132, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.405 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.405 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.405 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 131 commit_index: 131 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.405 apply.rs:1277: [DEBG] applied command, index: 132, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.405 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 132 commit_index: 132 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.406 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.406 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 132, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.406 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 132, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.407 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.408 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 apply.rs:1277: [DEBG] applied command, index: 132, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.408 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.408 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.409 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.409 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.409 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.409 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 132 commit_index: 132 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.409 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.409 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.409 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.410 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.410 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:14.410 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:14.410 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.418 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.418 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.418 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 132 entries { term: 7 index: 133 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000781A080000000000000078 } commit: 132, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.418 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 133 commit: 132, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 raft_log.rs:536: [DEBG] persisted index 133, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.419 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.420 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.420 raft_log.rs:536: [DEBG] persisted index 133, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.420 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.420 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.420 raft_log.rs:500: [DEBG] committing index 133, index: 133, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.420 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.421 apply.rs:1277: [DEBG] applied command, index: 133, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.421 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.421 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 133 commit_index: 133 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.430 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 133, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.430 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.430 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.430 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.430 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.431 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.431 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.431 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.431 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.431 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.431 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.431 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.431 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 133, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.432 apply.rs:1277: [DEBG] applied command, index: 133, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.432 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.433 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.433 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.433 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.433 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.433 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.433 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 133 commit_index: 133 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.433 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 133 entries { term: 7 index: 134 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000791A080000000000000079 } commit: 133, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 134 commit: 133, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 raft_log.rs:536: [DEBG] persisted index 134, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.434 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.435 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.435 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.435 raft_log.rs:536: [DEBG] persisted index 134, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.435 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.435 raft_log.rs:500: [DEBG] committing index 134, index: 134, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.435 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.435 apply.rs:1277: [DEBG] applied command, index: 134, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.436 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 134 commit_index: 134 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.442 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.442 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.448 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 134 entries { term: 7 index: 135 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007A1A08000000000000007A } commit: 134, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.448 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.448 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 135 commit: 134, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 raft_log.rs:536: [DEBG] persisted index 135, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 apply.rs:1277: [DEBG] applied command, index: 134, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.449 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.450 raft_log.rs:536: [DEBG] persisted index 135, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.450 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.450 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 134 commit_index: 134 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.450 raft_log.rs:500: [DEBG] committing index 135, index: 135, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.450 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.450 apply.rs:1277: [DEBG] applied command, index: 135, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.450 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 135 commit_index: 135 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.455 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.455 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 135, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.455 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.456 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 135, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 apply.rs:1277: [DEBG] applied command, index: 135, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.457 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.457 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.458 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.458 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.458 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 135 commit_index: 135 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.458 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.458 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.463 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 135 entries { term: 7 index: 136 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007B1A08000000000000007B } commit: 135, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.463 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.463 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.463 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.463 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 136 commit: 135, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 raft_log.rs:536: [DEBG] persisted index 136, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.464 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 raft_log.rs:536: [DEBG] persisted index 136, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.464 raft_log.rs:500: [DEBG] committing index 136, index: 136, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.465 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.465 apply.rs:1277: [DEBG] applied command, index: 136, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.465 apply.rs:693: [WARN] [store 2] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.465 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 136 commit_index: 136 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.466 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.466 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.478 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 136 entries { term: 7 index: 137 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007C1A08000000000000007C } commit: 136, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.478 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.478 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.478 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.478 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.478 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.478 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 137 commit: 136, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.478 raft_log.rs:536: [DEBG] persisted index 137, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 apply.rs:1277: [DEBG] applied command, index: 136, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.479 apply.rs:693: [WARN] [store 1] handle ready 1 committed entries, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.479 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.479 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 136, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 raft_log.rs:536: [DEBG] persisted index 137, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 136 commit_index: 136 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.480 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 136, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 raft_log.rs:500: [DEBG] committing index 137, index: 137, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.481 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 apply.rs:1277: [DEBG] applied command, index: 137, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.482 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.483 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 137 commit_index: 137 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.489 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.489 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.495 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 137 entries { term: 7 index: 138 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007D1A08000000000000007D } commit: 137, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 138 commit: 137, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 raft_log.rs:536: [DEBG] persisted index 138, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.495 apply.rs:1277: [DEBG] applied command, index: 137, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.496 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.496 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.496 raft_log.rs:536: [DEBG] persisted index 138, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.496 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.496 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 137 commit_index: 137 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.496 raft_log.rs:500: [DEBG] committing index 138, index: 138, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.496 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.496 apply.rs:1277: [DEBG] applied command, index: 138, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.497 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 138 commit_index: 138 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.501 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.502 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 138, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.502 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.502 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.502 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.502 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.502 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 138, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.503 apply.rs:1277: [DEBG] applied command, index: 138, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.503 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.504 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.504 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.504 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.504 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.504 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.504 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 138 commit_index: 138 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.504 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.504 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.505 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.505 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.505 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.505 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.505 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.505 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.509 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 138 entries { term: 7 index: 139 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007E1A08000000000000007E } commit: 138, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.509 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.509 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 139 commit: 138, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 raft_log.rs:536: [DEBG] persisted index 139, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.510 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.511 raft_log.rs:536: [DEBG] persisted index 139, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.511 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.511 raft_log.rs:500: [DEBG] committing index 139, index: 139, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.511 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.511 apply.rs:1277: [DEBG] applied command, index: 139, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.511 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 139 commit_index: 139 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.513 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.513 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.521 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability-0 2022/10/19 17:38:14.521 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.522 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppend to: 1 log_term: 7 index: 139 entries { term: 7 index: 140 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007F1A08000000000000007F } commit: 139, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.522 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.522 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.522 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.522 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 76, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.522 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.522 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppend, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.522 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 140 commit: 139, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 raft_log.rs:536: [DEBG] persisted index 140, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 entry_storage.rs:960: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 apply.rs:1277: [DEBG] applied command, index: 139, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 1 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.523 raft_log.rs:536: [DEBG] persisted index 140, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.523 raft_log.rs:500: [DEBG] committing index 140, index: 140, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.524 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 139 commit_index: 139 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.524 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.524 apply.rs:1277: [DEBG] applied command, index: 140, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.524 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 140, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.524 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.524 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.524 peer_storage.rs:1038: [DEBG] begin to generate a snapshot, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.524 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.525 snap.rs:1651: [DEBG] register snapshot, entry: Generating, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:14.525 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.525 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.525 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.525 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.525 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 140 commit_index: 140 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.525 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 140, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.525 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.526 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.526 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.526 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.526 apply.rs:1277: [DEBG] applied command, index: 140, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.526 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:14.526 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.527 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.527 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.527 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.527 raft.rs:678: [DEBG] failed to send snapshot to 3 because snapshot is temporarily unavailable, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.527 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 140 commit_index: 140 commit_term: 7 truncated_state { index: 10 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 17, delete_keys_hint: 0, written_bytes: 61, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.527 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.528 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.528 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.528 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.528 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.546 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.546 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 17
test_push_non_witness_availability 2022/10/19 17:38:14.546 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.546 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.546 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.564 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability-0 2022/10/19 17:38:14.564 io.rs:184: [INFO] build_sst_cf_file_list builds 1 files in cf default. Total keys 1, total size 5. raw_size_per_file 104857600, total takes 38.137458ms
test_push_non_witness_availability 2022/10/19 17:38:14.564 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.566 snap.rs:914: [INFO] scan snapshot of one cf, size: 5, key_count: 1, cf: default, snapshot: /var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_cluster7TFzJT/gen_1_7_11_(default|lock|write).sst, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.567 snap.rs:914: [INFO] scan snapshot of one cf, size: 0, key_count: 0, cf: lock, snapshot: /var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_cluster7TFzJT/gen_1_7_11_(default|lock|write).sst, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.567 snap.rs:914: [INFO] scan snapshot of one cf, size: 0, key_count: 0, cf: write, snapshot: /var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_cluster7TFzJT/gen_1_7_11_(default|lock|write).sst, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.576 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 140, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.586 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.586 snap.rs:1053: [INFO] scan snapshot, takes: 60.809709ms, size: 1483, key_count: 1, snapshot: /var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_cluster7TFzJT/gen_1_7_11_(default|lock|write).sst, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.587 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.587 snap.rs:1674: [DEBG] deregister snapshot, entry: Generating, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:14.587 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.587 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.587 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.587 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.587 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.588 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.588 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 11
test_push_non_witness_availability 2022/10/19 17:38:14.588 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 140, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.588 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.588 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.588 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.588 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.588 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.589 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 140, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.589 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.589 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.589 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.589 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.589 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.589 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.589 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.590 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.590 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 140, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.590 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.590 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.590 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.590 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.590 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:14.590 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.591 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.591 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.591 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.591 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.591 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11 request_snapshot: 9 reject: true reject_hint: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.592 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.592 raft.rs:694: [DEBG] [firstindex: 11, commit: 140] sent snapshot[index: 11, term: 7] to 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, to: 3, snapshot_term: 7, snapshot_index: 11, committed: 140, first_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.592 raft.rs:705: [DEBG] paused sending replication messages to 3, progress: Progress { matched: 11, next_idx: 12, state: Snapshot, paused: false, pending_snapshot: 11, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.592 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgSnapshot to: 3 snapshot { data: 0A1C08012204080310012A04080110012A04080210022A0608031003180110CB0B20022A250A120A0764656661756C7410CB0B18A3ABEC9B060A060A046C6F636B0A070A057772697465 metadata { conf_state { voters: 1 voters: 2 learners: 3 } index: 11 term: 7 } }, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.592 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.592 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.593 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.593 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:14.593 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.593 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.593 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 100, msg_type: MsgSnapshot, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.593 snap.rs:1651: [DEBG] register snapshot, entry: Sending, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:14.593 snap.rs:668: [INFO] set_snapshot_meta total cf files count: 3
test_push_non_witness_availability 2022/10/19 17:38:14.595 snap.rs:1651: [DEBG] register snapshot, entry: Receiving, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:14.595 snap.rs:668: [INFO] set_snapshot_meta total cf files count: 3
test_push_non_witness_availability 2022/10/19 17:38:14.595 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.596 snap.rs:1138: [DEBG] saving to snapshot file, snapshot: /var/folders/gq/v0f76rc545n2mrprck4_bh_m0000gn/T/test_clusterSxLway/rev_1_7_11_(default|lock|write).sst
test_push_non_witness_availability 2022/10/19 17:38:14.597 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability-0 2022/10/19 17:38:14.607 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.671 snap.rs:1674: [DEBG] deregister snapshot, entry: Sending, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:14.673 snap.rs:1674: [DEBG] deregister snapshot, entry: Receiving, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:14.673 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgSnapshot, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.674 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 82
test_push_non_witness_availability 2022/10/19 17:38:14.674 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.674 raft.rs:1737: [DEBG] received msgAppend rejection, index: 11, from: 3, reject_hint_term: 0, reject_hint_index: 11, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.674 raft.rs:1747: [DEBG] decreased progress of 3, progress: Progress { matched: 11, next_idx: 12, state: Snapshot, paused: false, pending_snapshot: 11, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.675 snap.rs:668: [INFO] set_snapshot_meta total cf files count: 3
test_push_non_witness_availability 2022/10/19 17:38:14.675 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.675 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.675 peer.rs:1931: [INFO] report snapshot status, status: Finish, to: id: 3 store_id: 3 role: Learner, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.676 raft.rs:1953: [DEBG] snapshot succeeded, resumed sending replication messages to 3, progress: Progress { matched: 11, next_idx: 12, state: Probe, paused: false, pending_snapshot: 0, pending_request_snapshot: 9, recent_active: true, ins: Inflights { start: 0, count: 0, buffer: [], cap: 256, incoming_cap: None }, commit_group_id: 0, committed_index: 11 }, from: 3, raft_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.676 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.676 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability-0 2022/10/19 17:38:14.676 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.677 raft_log.rs:627: [INFO] log [committed=11, persisted=11, applied=11, unstable.offset=12, unstable.entries.len()=0] starts to restore snapshot [index: 11, term: 7], snapshot_term: 7, snapshot_index: 11, log: committed=11, persisted=11, applied=11, unstable.offset=12, unstable.entries.len()=0, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.677 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2} }, outgoing: Configuration { voters: {} } }, learners: {3}, learners_next: {}, auto_leave: false }, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.678 raft.rs:2630: [INFO] restored snapshot, snapshot_term: 7, snapshot_index: 11, last_term: 7, last_index: 11, commit: 11, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.678 raft.rs:2511: [INFO] [commit: 11, term: 7] restored snapshot [index: 11, term: 7], snapshot_term: 7, snapshot_index: 11, commit: 11, term: 7, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.678 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.678 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.678 peer_storage.rs:581: [INFO] begin to apply snapshot, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.678 peer_storage.rs:1014: [INFO] finish clear peer meta, takes: 15.167µs, raft_key: 1, apply_key: 1, meta_key: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.679 peer_storage.rs:1140: [DEBG] writing merge state, state: state: Applying region { id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner } }, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.679 peer_storage.rs:662: [INFO] apply snapshot with state ok, state: applied_index: 11 commit_index: 11 commit_term: 7 truncated_state { index: 11 term: 7 }, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.689 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 140, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.698 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.699 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0.018730125s, write_raft: 0.000543042s, send: 0.000006708s, callback: 0s thread: sync-writer, takes: 19
test_push_non_witness_availability 2022/10/19 17:38:14.699 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.699 pool.rs:123: [DEBG] scheduling task Snap apply for 1
test_push_non_witness_availability 2022/10/19 17:38:14.699 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.700 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.700 apply.rs:3471: [INFO] re-register to apply delegates, term: 7, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.700 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.701 peer.rs:4727: [INFO] snapshot is persisted, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.701 region.rs:441: [INFO] begin apply snap data, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.701 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 11
test_push_non_witness_availability 2022/10/19 17:38:14.701 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.701 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.701 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 140, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.721 peer.rs:4744: [DEBG] check snapshot range, prev_region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.721 snap.rs:1651: [DEBG] register snapshot, entry: Applying, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:14.721 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.721 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.722 snap.rs:668: [INFO] set_snapshot_meta total cf files count: 3
test_push_non_witness_availability 2022/10/19 17:38:14.722 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 21
test_push_non_witness_availability 2022/10/19 17:38:14.722 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.723 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.723 peer.rs:4786: [INFO] region changed after persisting snapshot, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, prev_region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.724 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 1 snapshots, takes: 50
test_push_non_witness_availability 2022/10/19 17:38:14.724 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.724 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.725 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.725 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.725 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.726 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.726 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.727 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.727 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 140, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.727 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.727 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.727 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 11, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.728 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.728 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.762 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_push_non_witness_availability 2022/10/19 17:38:14.763 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.781 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 11, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.782 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.783 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:14.783 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:14.783 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:14.783 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 140, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.784 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.784 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 11, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.823 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 94
test_push_non_witness_availability 2022/10/19 17:38:14.823 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.824 pool.rs:123: [DEBG] scheduling task compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(82.4745ms), store_process_duration: Some(819.959µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability-0 2022/10/19 17:38:14.824 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:14.825 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:14.825 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:14.825 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 55
test_push_non_witness_availability 2022/10/19 17:38:14.826 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 0, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 0
test_push_non_witness_availability 2022/10/19 17:38:14.826 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_push_non_witness_availability 2022/10/19 17:38:14.826 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.863 peer.rs:5848: [DEBG] leader lease is expired, lease: Lease { valid: Timespec { sec: 1648713, nsec: 678075000 } }, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.864 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 140 context: 684DF10442A74917A11A36C9D517BBBE, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.864 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:14.864 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_push_non_witness_availability-0 2022/10/19 17:38:14.865 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability-0 2022/10/19 17:38:14.865 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:14.865 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11 context: 684DF10442A74917A11A36C9D517BBBE, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.865 peer.rs:4300: [DEBG] request to get a read index, is_leader: true, peer_id: 2, region_id: 1, request_id: 684df104-42a7-4917-a11a-36c9d517bbbe
test_push_non_witness_availability-0 2022/10/19 17:38:14.865 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_push_non_witness_availability-0 2022/10/19 17:38:14.866 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(82.4745ms), store_process_duration: Some(819.959µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.884 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.885 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.885 pd.rs:1790: [DEBG] executing task, task: auto split split regions, num is 0
test_push_non_witness_availability-0 2022/10/19 17:38:14.885 pd.rs:1790: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_push_non_witness_availability 2022/10/19 17:38:14.886 pool.rs:123: [DEBG] scheduling task compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(14.730875ms), store_process_duration: Some(59.149417ms), store_write_duration: Some(1.75µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.886 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 60
test_push_non_witness_availability 2022/10/19 17:38:14.886 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:14.886 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.886 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.887 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.887 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.887 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(14.730875ms), store_process_duration: Some(59.149417ms), store_write_duration: Some(1.75µs), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.887 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 29, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.888 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 28, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.888 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.888 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.889 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 125
test_push_non_witness_availability 2022/10/19 17:38:14.889 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 140 context: 684DF10442A74917A11A36C9D517BBBE, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.906 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.907 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 29, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.907 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 19
test_push_non_witness_availability 2022/10/19 17:38:14.926 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.926 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 11 context: 684DF10442A74917A11A36C9D517BBBE, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.927 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.927 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 39
test_push_non_witness_availability-0 2022/10/19 17:38:14.946 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:14.946 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:14.946 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.947 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:14.947 pd.rs:741: [DEBG] [region 1] schedule AddPeer { peer: Right(id: 3 store_id: 3 role: Learner), policy: TillSuccess } to id: 2 store_id: 2, region: id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }
test_push_non_witness_availability 2022/10/19 17:38:14.947 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.947 pool.rs:123: [DEBG] scheduling task compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(121.016625ms), store_process_duration: Some(58.405291ms), store_write_duration: Some(792ns), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.948 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 59
test_push_non_witness_availability-0 2022/10/19 17:38:14.948 pd.rs:1790: [DEBG] executing task, task: compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(121.016625ms), store_process_duration: Some(58.405291ms), store_write_duration: Some(792ns), apply_wait_duration: None, apply_process_duration: None }
test_push_non_witness_availability 2022/10/19 17:38:14.948 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeat to: 1 commit: 140 context: 684DF10442A74917A11A36C9D517BBBE, to: 1, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.967 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 11 context: 684DF10442A74917A11A36C9D517BBBE, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.968 peer.rs:1662: [DEBG] rejecting sleeping, peer_id: 2, region_id: 1, reason: replication
test_push_non_witness_availability 2022/10/19 17:38:14.968 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.969 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.969 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 29, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.970 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:14.970 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 28, msg_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.006 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 11
test_push_non_witness_availability 2022/10/19 17:38:15.006 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.007 peer.rs:3366: [DEBG] handle reads with a read index, peer_id: 2, region_id: 1, request_id: 684df104-42a7-4917-a11a-36c9d517bbbe
test_push_non_witness_availability 2022/10/19 17:38:15.026 peer.rs:3661: [DEBG] update read progress, progress: LeaderLease(RemoteLease { expired_time: Timespec { sec: 1648714, nsec: 18874368 }, term: 7 }), peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.027 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 79
test_push_non_witness_availability 2022/10/19 17:38:15.028 peer.rs:2363: [DEBG] renew lease, reason: tick, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:15.028 region.rs:488: [INFO] apply new data, time_takes: 303.376625ms, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.028 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.029 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.029 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 140 context: 684DF10442A74917A11A36C9D517BBBE, to: 2, from: 1, raft_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.029 peer.rs:5503: [DEBG] send extra msg, to: 3, msg_type: MsgAvailabilityRequest, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.029 peer.rs:6024: [DEBG] check peer availability, target peer id: 3
test_push_non_witness_availability 2022/10/19 17:38:15.030 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgHeartbeatResponse to: 2 commit: 11 context: 684DF10442A74917A11A36C9D517BBBE, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.030 peer.rs:2178: [DEBG] stop ticking, election_elapsed: 1, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_push_non_witness_availability 2022/10/19 17:38:15.030 cluster.rs:768: [DEBG] about to shutdown cluster
test_push_non_witness_availability-0 2022/10/19 17:38:15.030 snap.rs:1674: [DEBG] deregister snapshot, entry: Applying, key: 1_7_11
test_push_non_witness_availability 2022/10/19 17:38:15.030 peer.rs:2582: [DEBG] still applying snapshot, skip further handling, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.030 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 0 ready, 0 entries, 0 messages and 0 snapshots, takes: 22
test_push_non_witness_availability 2022/10/19 17:38:15.031 cluster.rs:367: [DEBG] stopping node 1
test_push_non_witness_availability 2022/10/19 17:38:15.031 peer.rs:2768: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.031 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAvailabilityRequest, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.031 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.031 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 29, msg_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.031 node.rs:544: [INFO] stop raft store thread, store_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.031 peer.rs:2677: [DEBG] peer responses availability info to leader, leader_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.032 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.032 store.rs:1025: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 61
test_push_non_witness_availability 2022/10/19 17:38:15.032 batch.rs:635: [INFO] shutdown batch system apply
test_push_non_witness_availability 2022/10/19 17:38:15.032 router.rs:317: [INFO] broadcasting shutdown
test_push_non_witness_availability 2022/10/19 17:38:15.032 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.032 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.033 router.rs:322: [DEBG] [region 1] shutdown mailbox
test_push_non_witness_availability 2022/10/19 17:38:15.033 peer.rs:5503: [DEBG] send extra msg, to: 2, msg_type: MsgAvailabilityResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.033 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.033 peer.rs:2672: [INFO] notify leader the leader is available, peer id: 3, region id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.033 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.033 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgAvailabilityResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.033 peer.rs:2658: [DEBG] receive peer ready info, peer_id: 2
test_push_non_witness_availability 2022/10/19 17:38:15.034 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.034 batch.rs:639: [DEBG] waiting for apply-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.034 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.034 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.034 batch.rs:639: [DEBG] waiting for apply-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.034 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 28, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.035 batch.rs:648: [INFO] batch system apply is stopped.
test_push_non_witness_availability 2022/10/19 17:38:15.035 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 11 entries { term: 7 index: 12 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000001A080000000000000000 } entries { term: 7 index: 13 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000011A080000000000000001 } entries { term: 7 index: 14 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000021A080000000000000002 } entries { term: 7 index: 15 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000031A080000000000000003 } entries { term: 7 index: 16 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000041A080000000000000004 } entries { term: 7 index: 17 data: 0A0808011204080210021A0808032204080A1007 } entries { term: 7 index: 18 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000051A080000000000000005 } entries { term: 7 index: 19 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000061A080000000000000006 } entries { term: 7 index: 20 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000071A080000000000000007 } entries { term: 7 index: 21 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000081A080000000000000008 } entries { term: 7 index: 22 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000091A080000000000000009 } entries { term: 7 index: 23 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000A1A08000000000000000A } entries { term: 7 index: 24 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000B1A08000000000000000B } entries { term: 7 index: 25 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000C1A08000000000000000C } entries { term: 7 index: 26 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000D1A08000000000000000D } entries { term: 7 index: 27 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000E1A08000000000000000E } entries { term: 7 index: 28 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000F1A08000000000000000F } entries { term: 7 index: 29 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000101A080000000000000010 } entries { term: 7 index: 30 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000111A080000000000000011 } entries { term: 7 index: 31 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000121A080000000000000012 } entries { term: 7 index: 32 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000131A080000000000000013 } entries { term: 7 index: 33 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000141A080000000000000014 } entries { term: 7 index: 34 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000151A080000000000000015 } entries { term: 7 index: 35 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000161A080000000000000016 } entries { term: 7 index: 36 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000171A080000000000000017 } entries { term: 7 index: 37 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000181A080000000000000018 } entries { term: 7 index: 38 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000191A080000000000000019 } entries { term: 7 index: 39 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001A1A08000000000000001A } entries { term: 7 index: 40 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001B1A08000000000000001B } entries { term: 7 index: 41 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001C1A08000000000000001C } entries { term: 7 index: 42 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001D1A08000000000000001D } entries { term: 7 index: 43 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001E1A08000000000000001E } entries { term: 7 index: 44 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001F1A08000000000000001F } entries { term: 7 index: 45 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000201A080000000000000020 } entries { term: 7 index: 46 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000211A080000000000000021 } entries { term: 7 index: 47 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000221A080000000000000022 } entries { term: 7 index: 48 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000231A080000000000000023 } entries { term: 7 index: 49 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000241A080000000000000024 } entries { term: 7 index: 50 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000251A080000000000000025 } entries { term: 7 index: 51 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000261A080000000000000026 } entries { term: 7 index: 52 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000271A080000000000000027 } entries { term: 7 index: 53 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000281A080000000000000028 } entries { term: 7 index: 54 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000291A080000000000000029 } entries { term: 7 index: 55 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002A1A08000000000000002A } entries { term: 7 index: 56 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002B1A08000000000000002B } entries { term: 7 index: 57 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002C1A08000000000000002C } entries { term: 7 index: 58 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002D1A08000000000000002D } entries { term: 7 index: 59 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002E1A08000000000000002E } entries { term: 7 index: 60 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002F1A08000000000000002F } entries { term: 7 index: 61 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000301A080000000000000030 } entries { term: 7 index: 62 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000311A080000000000000031 } entries { term: 7 index: 63 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000321A080000000000000032 } entries { term: 7 index: 64 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000331A080000000000000033 } entries { term: 7 index: 65 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000341A080000000000000034 } entries { term: 7 index: 66 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000351A080000000000000035 } entries { term: 7 index: 67 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000361A080000000000000036 } entries { term: 7 index: 68 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000371A080000000000000037 } entries { term: 7 index: 69 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000381A080000000000000038 } entries { term: 7 index: 70 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000391A080000000000000039 } entries { term: 7 index: 71 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003A1A08000000000000003A } entries { term: 7 index: 72 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003B1A08000000000000003B } entries { term: 7 index: 73 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003C1A08000000000000003C } entries { term: 7 index: 74 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003D1A08000000000000003D } entries { term: 7 index: 75 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003E1A08000000000000003E } entries { term: 7 index: 76 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003F1A08000000000000003F } entries { term: 7 index: 77 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000401A080000000000000040 } entries { term: 7 index: 78 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000411A080000000000000041 } entries { term: 7 index: 79 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000421A080000000000000042 } entries { term: 7 index: 80 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000431A080000000000000043 } entries { term: 7 index: 81 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000441A080000000000000044 } entries { term: 7 index: 82 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000451A080000000000000045 } entries { term: 7 index: 83 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000461A080000000000000046 } entries { term: 7 index: 84 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000471A080000000000000047 } entries { term: 7 index: 85 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000481A080000000000000048 } entries { term: 7 index: 86 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000491A080000000000000049 } entries { term: 7 index: 87 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004A1A08000000000000004A } entries { term: 7 index: 88 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004B1A08000000000000004B } entries { term: 7 index: 89 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004C1A08000000000000004C } entries { term: 7 index: 90 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004D1A08000000000000004D } entries { term: 7 index: 91 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004E1A08000000000000004E } entries { term: 7 index: 92 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004F1A08000000000000004F } entries { term: 7 index: 93 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000501A080000000000000050 } entries { term: 7 index: 94 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000511A080000000000000051 } entries { term: 7 index: 95 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000521A080000000000000052 } entries { term: 7 index: 96 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000531A080000000000000053 } entries { term: 7 index: 97 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000541A080000000000000054 } entries { term: 7 index: 98 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000551A080000000000000055 } entries { term: 7 index: 99 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000561A080000000000000056 } entries { term: 7 index: 100 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000571A080000000000000057 } entries { term: 7 index: 101 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000581A080000000000000058 } entries { term: 7 index: 102 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000591A080000000000000059 } entries { term: 7 index: 103 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005A1A08000000000000005A } entries { term: 7 index: 104 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005B1A08000000000000005B } entries { term: 7 index: 105 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005C1A08000000000000005C } entries { term: 7 index: 106 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005D1A08000000000000005D } entries { term: 7 index: 107 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005E1A08000000000000005E } entries { term: 7 index: 108 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005F1A08000000000000005F } entries { term: 7 index: 109 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000601A080000000000000060 } entries { term: 7 index: 110 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000611A080000000000000061 } entries { term: 7 index: 111 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000621A080000000000000062 } entries { term: 7 index: 112 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000631A080000000000000063 } entries { term: 7 index: 113 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000641A080000000000000064 } entries { term: 7 index: 114 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000651A080000000000000065 } entries { term: 7 index: 115 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000661A080000000000000066 } entries { term: 7 index: 116 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000671A080000000000000067 } entries { term: 7 index: 117 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000681A080000000000000068 } entries { term: 7 index: 118 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000691A080000000000000069 } entries { term: 7 index: 119 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006A1A08000000000000006A } entries { term: 7 index: 120 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006B1A08000000000000006B } entries { term: 7 index: 121 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006C1A08000000000000006C } entries { term: 7 index: 122 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006D1A08000000000000006D } entries { term: 7 index: 123 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006E1A08000000000000006E } entries { term: 7 index: 124 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006F1A08000000000000006F } entries { term: 7 index: 125 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000701A080000000000000070 } entries { term: 7 index: 126 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000711A080000000000000071 } entries { term: 7 index: 127 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000721A080000000000000072 } entries { term: 7 index: 128 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000731A080000000000000073 } entries { term: 7 index: 129 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000741A080000000000000074 } entries { term: 7 index: 130 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000751A080000000000000075 } entries { term: 7 index: 131 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000761A080000000000000076 } entries { term: 7 index: 132 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000771A080000000000000077 } entries { term: 7 index: 133 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000781A080000000000000078 } entries { term: 7 index: 134 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000791A080000000000000079 } entries { term: 7 index: 135 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007A1A08000000000000007A } entries { term: 7 index: 136 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007B1A08000000000000007B } entries { term: 7 index: 137 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007C1A08000000000000007C } entries { term: 7 index: 138 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007D1A08000000000000007D } entries { term: 7 index: 139 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007E1A08000000000000007E } entries { term: 7 index: 140 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007F1A08000000000000007F } commit: 140, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.036 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 28, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.036 batch.rs:635: [INFO] shutdown batch system raftstore-1
test_push_non_witness_availability 2022/10/19 17:38:15.036 router.rs:317: [INFO] broadcasting shutdown
test_push_non_witness_availability 2022/10/19 17:38:15.036 router.rs:322: [DEBG] [region 1] shutdown mailbox
test_push_non_witness_availability 2022/10/19 17:38:15.036 peer.rs:2212: [DEBG] peer has caught up logs, takes: 2.598036875, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.036 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 5
test_push_non_witness_availability 2022/10/19 17:38:15.036 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:15.037 batch.rs:639: [DEBG] waiting for raftstore-1-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.037 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability-0 2022/10/19 17:38:15.037 pd.rs:1790: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 3 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 role: Learner }, leader 2, replication status None
test_push_non_witness_availability 2022/10/19 17:38:15.037 batch.rs:639: [DEBG] waiting for raftstore-1-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.037 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 7608, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.037 batch.rs:648: [INFO] batch system raftstore-1 is stopped.
test_push_non_witness_availability 2022/10/19 17:38:15.037 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 3
test_push_non_witness_availability 2022/10/19 17:38:15.037 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.038 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 140 commit: 140, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.038 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.038 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.038 entry_storage.rs:960: [DEBG] append entries, count: 129, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.038 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 11 entries { term: 7 index: 12 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000001A080000000000000000 } entries { term: 7 index: 13 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000011A080000000000000001 } entries { term: 7 index: 14 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000021A080000000000000002 } entries { term: 7 index: 15 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000031A080000000000000003 } entries { term: 7 index: 16 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000041A080000000000000004 } entries { term: 7 index: 17 data: 0A0808011204080210021A0808032204080A1007 } entries { term: 7 index: 18 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000051A080000000000000005 } entries { term: 7 index: 19 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000061A080000000000000006 } entries { term: 7 index: 20 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000071A080000000000000007 } entries { term: 7 index: 21 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000081A080000000000000008 } entries { term: 7 index: 22 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000091A080000000000000009 } entries { term: 7 index: 23 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000A1A08000000000000000A } entries { term: 7 index: 24 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000B1A08000000000000000B } entries { term: 7 index: 25 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000C1A08000000000000000C } entries { term: 7 index: 26 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000D1A08000000000000000D } entries { term: 7 index: 27 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000E1A08000000000000000E } entries { term: 7 index: 28 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000F1A08000000000000000F } entries { term: 7 index: 29 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000101A080000000000000010 } entries { term: 7 index: 30 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000111A080000000000000011 } entries { term: 7 index: 31 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000121A080000000000000012 } entries { term: 7 index: 32 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000131A080000000000000013 } entries { term: 7 index: 33 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000141A080000000000000014 } entries { term: 7 index: 34 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000151A080000000000000015 } entries { term: 7 index: 35 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000161A080000000000000016 } entries { term: 7 index: 36 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000171A080000000000000017 } entries { term: 7 index: 37 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000181A080000000000000018 } entries { term: 7 index: 38 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000191A080000000000000019 } entries { term: 7 index: 39 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001A1A08000000000000001A } entries { term: 7 index: 40 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001B1A08000000000000001B } entries { term: 7 index: 41 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001C1A08000000000000001C } entries { term: 7 index: 42 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001D1A08000000000000001D } entries { term: 7 index: 43 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001E1A08000000000000001E } entries { term: 7 index: 44 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001F1A08000000000000001F } entries { term: 7 index: 45 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000201A080000000000000020 } entries { term: 7 index: 46 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000211A080000000000000021 } entries { term: 7 index: 47 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000221A080000000000000022 } entries { term: 7 index: 48 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000231A080000000000000023 } entries { term: 7 index: 49 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000241A080000000000000024 } entries { term: 7 index: 50 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000251A080000000000000025 } entries { term: 7 index: 51 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000261A080000000000000026 } entries { term: 7 index: 52 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000271A080000000000000027 } entries { term: 7 index: 53 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000281A080000000000000028 } entries { term: 7 index: 54 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000291A080000000000000029 } entries { term: 7 index: 55 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002A1A08000000000000002A } entries { term: 7 index: 56 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002B1A08000000000000002B } entries { term: 7 index: 57 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002C1A08000000000000002C } entries { term: 7 index: 58 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002D1A08000000000000002D } entries { term: 7 index: 59 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002E1A08000000000000002E } entries { term: 7 index: 60 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002F1A08000000000000002F } entries { term: 7 index: 61 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000301A080000000000000030 } entries { term: 7 index: 62 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000311A080000000000000031 } entries { term: 7 index: 63 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000321A080000000000000032 } entries { term: 7 index: 64 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000331A080000000000000033 } entries { term: 7 index: 65 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000341A080000000000000034 } entries { term: 7 index: 66 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000351A080000000000000035 } entries { term: 7 index: 67 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000361A080000000000000036 } entries { term: 7 index: 68 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000371A080000000000000037 } entries { term: 7 index: 69 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000381A080000000000000038 } entries { term: 7 index: 70 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000391A080000000000000039 } entries { term: 7 index: 71 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003A1A08000000000000003A } entries { term: 7 index: 72 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003B1A08000000000000003B } entries { term: 7 index: 73 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003C1A08000000000000003C } entries { term: 7 index: 74 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003D1A08000000000000003D } entries { term: 7 index: 75 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003E1A08000000000000003E } entries { term: 7 index: 76 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003F1A08000000000000003F } entries { term: 7 index: 77 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000401A080000000000000040 } entries { term: 7 index: 78 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000411A080000000000000041 } entries { term: 7 index: 79 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000421A080000000000000042 } entries { term: 7 index: 80 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000431A080000000000000043 } entries { term: 7 index: 81 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000441A080000000000000044 } entries { term: 7 index: 82 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000451A080000000000000045 } entries { term: 7 index: 83 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000461A080000000000000046 } entries { term: 7 index: 84 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000471A080000000000000047 } entries { term: 7 index: 85 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000481A080000000000000048 } entries { term: 7 index: 86 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000491A080000000000000049 } entries { term: 7 index: 87 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004A1A08000000000000004A } entries { term: 7 index: 88 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004B1A08000000000000004B } entries { term: 7 index: 89 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004C1A08000000000000004C } entries { term: 7 index: 90 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004D1A08000000000000004D } entries { term: 7 index: 91 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004E1A08000000000000004E } entries { term: 7 index: 92 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004F1A08000000000000004F } entries { term: 7 index: 93 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000501A080000000000000050 } entries { term: 7 index: 94 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000511A080000000000000051 } entries { term: 7 index: 95 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000521A080000000000000052 } entries { term: 7 index: 96 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000531A080000000000000053 } entries { term: 7 index: 97 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000541A080000000000000054 } entries { term: 7 index: 98 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000551A080000000000000055 } entries { term: 7 index: 99 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000561A080000000000000056 } entries { term: 7 index: 100 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000571A080000000000000057 } entries { term: 7 index: 101 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000581A080000000000000058 } entries { term: 7 index: 102 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000591A080000000000000059 } entries { term: 7 index: 103 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005A1A08000000000000005A } entries { term: 7 index: 104 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005B1A08000000000000005B } entries { term: 7 index: 105 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005C1A08000000000000005C } entries { term: 7 index: 106 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005D1A08000000000000005D } entries { term: 7 index: 107 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005E1A08000000000000005E } entries { term: 7 index: 108 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005F1A08000000000000005F } entries { term: 7 index: 109 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000601A080000000000000060 } entries { term: 7 index: 110 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000611A080000000000000061 } entries { term: 7 index: 111 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000621A080000000000000062 } entries { term: 7 index: 112 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000631A080000000000000063 } entries { term: 7 index: 113 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000641A080000000000000064 } entries { term: 7 index: 114 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000651A080000000000000065 } entries { term: 7 index: 115 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000661A080000000000000066 } entries { term: 7 index: 116 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000671A080000000000000067 } entries { term: 7 index: 117 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000681A080000000000000068 } entries { term: 7 index: 118 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000691A080000000000000069 } entries { term: 7 index: 119 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006A1A08000000000000006A } entries { term: 7 index: 120 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006B1A08000000000000006B } entries { term: 7 index: 121 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006C1A08000000000000006C } entries { term: 7 index: 122 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006D1A08000000000000006D } entries { term: 7 index: 123 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006E1A08000000000000006E } entries { term: 7 index: 124 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006F1A08000000000000006F } entries { term: 7 index: 125 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000701A080000000000000070 } entries { term: 7 index: 126 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000711A080000000000000071 } entries { term: 7 index: 127 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000721A080000000000000072 } entries { term: 7 index: 128 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000731A080000000000000073 } entries { term: 7 index: 129 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000741A080000000000000074 } entries { term: 7 index: 130 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000751A080000000000000075 } entries { term: 7 index: 131 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000761A080000000000000076 } entries { term: 7 index: 132 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000771A080000000000000077 } entries { term: 7 index: 133 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000781A080000000000000078 } entries { term: 7 index: 134 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000791A080000000000000079 } entries { term: 7 index: 135 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007A1A08000000000000007A } entries { term: 7 index: 136 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007B1A08000000000000007B } entries { term: 7 index: 137 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007C1A08000000000000007C } entries { term: 7 index: 138 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007D1A08000000000000007D } entries { term: 7 index: 139 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007E1A08000000000000007E } entries { term: 7 index: 140 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007F1A08000000000000007F } commit: 140, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.039 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.039 cluster.rs:374: [DEBG] node 1 stopped
test_push_non_witness_availability 2022/10/19 17:38:15.039 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 11 entries { term: 7 index: 12 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000001A080000000000000000 } entries { term: 7 index: 13 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000011A080000000000000001 } entries { term: 7 index: 14 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000021A080000000000000002 } entries { term: 7 index: 15 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000031A080000000000000003 } entries { term: 7 index: 16 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000041A080000000000000004 } entries { term: 7 index: 17 data: 0A0808011204080210021A0808032204080A1007 } entries { term: 7 index: 18 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000051A080000000000000005 } entries { term: 7 index: 19 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000061A080000000000000006 } entries { term: 7 index: 20 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000071A080000000000000007 } entries { term: 7 index: 21 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000081A080000000000000008 } entries { term: 7 index: 22 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000091A080000000000000009 } entries { term: 7 index: 23 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000A1A08000000000000000A } entries { term: 7 index: 24 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000B1A08000000000000000B } entries { term: 7 index: 25 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000C1A08000000000000000C } entries { term: 7 index: 26 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000D1A08000000000000000D } entries { term: 7 index: 27 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000E1A08000000000000000E } entries { term: 7 index: 28 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000F1A08000000000000000F } entries { term: 7 index: 29 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000101A080000000000000010 } entries { term: 7 index: 30 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000111A080000000000000011 } entries { term: 7 index: 31 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000121A080000000000000012 } entries { term: 7 index: 32 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000131A080000000000000013 } entries { term: 7 index: 33 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000141A080000000000000014 } entries { term: 7 index: 34 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000151A080000000000000015 } entries { term: 7 index: 35 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000161A080000000000000016 } entries { term: 7 index: 36 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000171A080000000000000017 } entries { term: 7 index: 37 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000181A080000000000000018 } entries { term: 7 index: 38 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000191A080000000000000019 } entries { term: 7 index: 39 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001A1A08000000000000001A } entries { term: 7 index: 40 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001B1A08000000000000001B } entries { term: 7 index: 41 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001C1A08000000000000001C } entries { term: 7 index: 42 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001D1A08000000000000001D } entries { term: 7 index: 43 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001E1A08000000000000001E } entries { term: 7 index: 44 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001F1A08000000000000001F } entries { term: 7 index: 45 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000201A080000000000000020 } entries { term: 7 index: 46 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000211A080000000000000021 } entries { term: 7 index: 47 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000221A080000000000000022 } entries { term: 7 index: 48 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000231A080000000000000023 } entries { term: 7 index: 49 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000241A080000000000000024 } entries { term: 7 index: 50 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000251A080000000000000025 } entries { term: 7 index: 51 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000261A080000000000000026 } entries { term: 7 index: 52 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000271A080000000000000027 } entries { term: 7 index: 53 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000281A080000000000000028 } entries { term: 7 index: 54 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000291A080000000000000029 } entries { term: 7 index: 55 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002A1A08000000000000002A } entries { term: 7 index: 56 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002B1A08000000000000002B } entries { term: 7 index: 57 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002C1A08000000000000002C } entries { term: 7 index: 58 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002D1A08000000000000002D } entries { term: 7 index: 59 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002E1A08000000000000002E } entries { term: 7 index: 60 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002F1A08000000000000002F } entries { term: 7 index: 61 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000301A080000000000000030 } entries { term: 7 index: 62 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000311A080000000000000031 } entries { term: 7 index: 63 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000321A080000000000000032 } entries { term: 7 index: 64 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000331A080000000000000033 } entries { term: 7 index: 65 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000341A080000000000000034 } entries { term: 7 index: 66 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000351A080000000000000035 } entries { term: 7 index: 67 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000361A080000000000000036 } entries { term: 7 index: 68 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000371A080000000000000037 } entries { term: 7 index: 69 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000381A080000000000000038 } entries { term: 7 index: 70 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000391A080000000000000039 } entries { term: 7 index: 71 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003A1A08000000000000003A } entries { term: 7 index: 72 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003B1A08000000000000003B } entries { term: 7 index: 73 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003C1A08000000000000003C } entries { term: 7 index: 74 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003D1A08000000000000003D } entries { term: 7 index: 75 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003E1A08000000000000003E } entries { term: 7 index: 76 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003F1A08000000000000003F } entries { term: 7 index: 77 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000401A080000000000000040 } entries { term: 7 index: 78 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000411A080000000000000041 } entries { term: 7 index: 79 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000421A080000000000000042 } entries { term: 7 index: 80 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000431A080000000000000043 } entries { term: 7 index: 81 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000441A080000000000000044 } entries { term: 7 index: 82 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000451A080000000000000045 } entries { term: 7 index: 83 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000461A080000000000000046 } entries { term: 7 index: 84 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000471A080000000000000047 } entries { term: 7 index: 85 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000481A080000000000000048 } entries { term: 7 index: 86 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000491A080000000000000049 } entries { term: 7 index: 87 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004A1A08000000000000004A } entries { term: 7 index: 88 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004B1A08000000000000004B } entries { term: 7 index: 89 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004C1A08000000000000004C } entries { term: 7 index: 90 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004D1A08000000000000004D } entries { term: 7 index: 91 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004E1A08000000000000004E } entries { term: 7 index: 92 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004F1A08000000000000004F } entries { term: 7 index: 93 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000501A080000000000000050 } entries { term: 7 index: 94 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000511A080000000000000051 } entries { term: 7 index: 95 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000521A080000000000000052 } entries { term: 7 index: 96 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000531A080000000000000053 } entries { term: 7 index: 97 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000541A080000000000000054 } entries { term: 7 index: 98 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000551A080000000000000055 } entries { term: 7 index: 99 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000561A080000000000000056 } entries { term: 7 index: 100 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000571A080000000000000057 } entries { term: 7 index: 101 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000581A080000000000000058 } entries { term: 7 index: 102 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000591A080000000000000059 } entries { term: 7 index: 103 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005A1A08000000000000005A } entries { term: 7 index: 104 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005B1A08000000000000005B } entries { term: 7 index: 105 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005C1A08000000000000005C } entries { term: 7 index: 106 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005D1A08000000000000005D } entries { term: 7 index: 107 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005E1A08000000000000005E } entries { term: 7 index: 108 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005F1A08000000000000005F } entries { term: 7 index: 109 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000601A080000000000000060 } entries { term: 7 index: 110 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000611A080000000000000061 } entries { term: 7 index: 111 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000621A080000000000000062 } entries { term: 7 index: 112 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000631A080000000000000063 } entries { term: 7 index: 113 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000641A080000000000000064 } entries { term: 7 index: 114 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000651A080000000000000065 } entries { term: 7 index: 115 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000661A080000000000000066 } entries { term: 7 index: 116 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000671A080000000000000067 } entries { term: 7 index: 117 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000681A080000000000000068 } entries { term: 7 index: 118 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000691A080000000000000069 } entries { term: 7 index: 119 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006A1A08000000000000006A } entries { term: 7 index: 120 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006B1A08000000000000006B } entries { term: 7 index: 121 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006C1A08000000000000006C } entries { term: 7 index: 122 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006D1A08000000000000006D } entries { term: 7 index: 123 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006E1A08000000000000006E } entries { term: 7 index: 124 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006F1A08000000000000006F } entries { term: 7 index: 125 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000701A080000000000000070 } entries { term: 7 index: 126 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000711A080000000000000071 } entries { term: 7 index: 127 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000721A080000000000000072 } entries { term: 7 index: 128 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000731A080000000000000073 } entries { term: 7 index: 129 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000741A080000000000000074 } entries { term: 7 index: 130 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000751A080000000000000075 } entries { term: 7 index: 131 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000761A080000000000000076 } entries { term: 7 index: 132 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000771A080000000000000077 } entries { term: 7 index: 133 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000781A080000000000000078 } entries { term: 7 index: 134 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000791A080000000000000079 } entries { term: 7 index: 135 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007A1A08000000000000007A } entries { term: 7 index: 136 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007B1A08000000000000007B } entries { term: 7 index: 137 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007C1A08000000000000007C } entries { term: 7 index: 138 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007D1A08000000000000007D } entries { term: 7 index: 139 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007E1A08000000000000007E } entries { term: 7 index: 140 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007F1A08000000000000007F } commit: 140, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.040 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.040 cluster.rs:367: [DEBG] stopping node 2
test_push_non_witness_availability 2022/10/19 17:38:15.040 raft.rs:603: [DEBG] Sending from 2 to 3, msg: msg_type: MsgAppend to: 3 log_term: 7 index: 11 entries { term: 7 index: 12 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000001A080000000000000000 } entries { term: 7 index: 13 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000011A080000000000000001 } entries { term: 7 index: 14 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000021A080000000000000002 } entries { term: 7 index: 15 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000031A080000000000000003 } entries { term: 7 index: 16 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000041A080000000000000004 } entries { term: 7 index: 17 data: 0A0808011204080210021A0808032204080A1007 } entries { term: 7 index: 18 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000051A080000000000000005 } entries { term: 7 index: 19 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000061A080000000000000006 } entries { term: 7 index: 20 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000071A080000000000000007 } entries { term: 7 index: 21 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000081A080000000000000008 } entries { term: 7 index: 22 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000091A080000000000000009 } entries { term: 7 index: 23 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000A1A08000000000000000A } entries { term: 7 index: 24 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000B1A08000000000000000B } entries { term: 7 index: 25 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000C1A08000000000000000C } entries { term: 7 index: 26 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000D1A08000000000000000D } entries { term: 7 index: 27 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000E1A08000000000000000E } entries { term: 7 index: 28 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000000F1A08000000000000000F } entries { term: 7 index: 29 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000101A080000000000000010 } entries { term: 7 index: 30 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000111A080000000000000011 } entries { term: 7 index: 31 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000121A080000000000000012 } entries { term: 7 index: 32 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000131A080000000000000013 } entries { term: 7 index: 33 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000141A080000000000000014 } entries { term: 7 index: 34 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000151A080000000000000015 } entries { term: 7 index: 35 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000161A080000000000000016 } entries { term: 7 index: 36 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000171A080000000000000017 } entries { term: 7 index: 37 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000181A080000000000000018 } entries { term: 7 index: 38 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000191A080000000000000019 } entries { term: 7 index: 39 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001A1A08000000000000001A } entries { term: 7 index: 40 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001B1A08000000000000001B } entries { term: 7 index: 41 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001C1A08000000000000001C } entries { term: 7 index: 42 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001D1A08000000000000001D } entries { term: 7 index: 43 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001E1A08000000000000001E } entries { term: 7 index: 44 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000001F1A08000000000000001F } entries { term: 7 index: 45 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000201A080000000000000020 } entries { term: 7 index: 46 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000211A080000000000000021 } entries { term: 7 index: 47 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000221A080000000000000022 } entries { term: 7 index: 48 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000231A080000000000000023 } entries { term: 7 index: 49 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000241A080000000000000024 } entries { term: 7 index: 50 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000251A080000000000000025 } entries { term: 7 index: 51 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000261A080000000000000026 } entries { term: 7 index: 52 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000271A080000000000000027 } entries { term: 7 index: 53 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000281A080000000000000028 } entries { term: 7 index: 54 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000291A080000000000000029 } entries { term: 7 index: 55 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002A1A08000000000000002A } entries { term: 7 index: 56 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002B1A08000000000000002B } entries { term: 7 index: 57 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002C1A08000000000000002C } entries { term: 7 index: 58 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002D1A08000000000000002D } entries { term: 7 index: 59 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002E1A08000000000000002E } entries { term: 7 index: 60 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000002F1A08000000000000002F } entries { term: 7 index: 61 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000301A080000000000000030 } entries { term: 7 index: 62 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000311A080000000000000031 } entries { term: 7 index: 63 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000321A080000000000000032 } entries { term: 7 index: 64 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000331A080000000000000033 } entries { term: 7 index: 65 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000341A080000000000000034 } entries { term: 7 index: 66 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000351A080000000000000035 } entries { term: 7 index: 67 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000361A080000000000000036 } entries { term: 7 index: 68 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000371A080000000000000037 } entries { term: 7 index: 69 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000381A080000000000000038 } entries { term: 7 index: 70 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000391A080000000000000039 } entries { term: 7 index: 71 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003A1A08000000000000003A } entries { term: 7 index: 72 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003B1A08000000000000003B } entries { term: 7 index: 73 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003C1A08000000000000003C } entries { term: 7 index: 74 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003D1A08000000000000003D } entries { term: 7 index: 75 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003E1A08000000000000003E } entries { term: 7 index: 76 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000003F1A08000000000000003F } entries { term: 7 index: 77 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000401A080000000000000040 } entries { term: 7 index: 78 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000411A080000000000000041 } entries { term: 7 index: 79 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000421A080000000000000042 } entries { term: 7 index: 80 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000431A080000000000000043 } entries { term: 7 index: 81 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000441A080000000000000044 } entries { term: 7 index: 82 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000451A080000000000000045 } entries { term: 7 index: 83 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000461A080000000000000046 } entries { term: 7 index: 84 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000471A080000000000000047 } entries { term: 7 index: 85 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000481A080000000000000048 } entries { term: 7 index: 86 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000491A080000000000000049 } entries { term: 7 index: 87 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004A1A08000000000000004A } entries { term: 7 index: 88 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004B1A08000000000000004B } entries { term: 7 index: 89 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004C1A08000000000000004C } entries { term: 7 index: 90 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004D1A08000000000000004D } entries { term: 7 index: 91 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004E1A08000000000000004E } entries { term: 7 index: 92 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000004F1A08000000000000004F } entries { term: 7 index: 93 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000501A080000000000000050 } entries { term: 7 index: 94 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000511A080000000000000051 } entries { term: 7 index: 95 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000521A080000000000000052 } entries { term: 7 index: 96 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000531A080000000000000053 } entries { term: 7 index: 97 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000541A080000000000000054 } entries { term: 7 index: 98 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000551A080000000000000055 } entries { term: 7 index: 99 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000561A080000000000000056 } entries { term: 7 index: 100 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000571A080000000000000057 } entries { term: 7 index: 101 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000581A080000000000000058 } entries { term: 7 index: 102 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000591A080000000000000059 } entries { term: 7 index: 103 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005A1A08000000000000005A } entries { term: 7 index: 104 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005B1A08000000000000005B } entries { term: 7 index: 105 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005C1A08000000000000005C } entries { term: 7 index: 106 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005D1A08000000000000005D } entries { term: 7 index: 107 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005E1A08000000000000005E } entries { term: 7 index: 108 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000005F1A08000000000000005F } entries { term: 7 index: 109 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000601A080000000000000060 } entries { term: 7 index: 110 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000611A080000000000000061 } entries { term: 7 index: 111 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000621A080000000000000062 } entries { term: 7 index: 112 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000631A080000000000000063 } entries { term: 7 index: 113 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000641A080000000000000064 } entries { term: 7 index: 114 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000651A080000000000000065 } entries { term: 7 index: 115 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000661A080000000000000066 } entries { term: 7 index: 116 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000671A080000000000000067 } entries { term: 7 index: 117 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000681A080000000000000068 } entries { term: 7 index: 118 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000691A080000000000000069 } entries { term: 7 index: 119 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006A1A08000000000000006A } entries { term: 7 index: 120 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006B1A08000000000000006B } entries { term: 7 index: 121 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006C1A08000000000000006C } entries { term: 7 index: 122 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006D1A08000000000000006D } entries { term: 7 index: 123 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006E1A08000000000000006E } entries { term: 7 index: 124 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000006F1A08000000000000006F } entries { term: 7 index: 125 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000701A080000000000000070 } entries { term: 7 index: 126 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000711A080000000000000071 } entries { term: 7 index: 127 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000721A080000000000000072 } entries { term: 7 index: 128 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000731A080000000000000073 } entries { term: 7 index: 129 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000741A080000000000000074 } entries { term: 7 index: 130 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000751A080000000000000075 } entries { term: 7 index: 131 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000761A080000000000000076 } entries { term: 7 index: 132 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000771A080000000000000077 } entries { term: 7 index: 133 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000781A080000000000000078 } entries { term: 7 index: 134 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C74120800000000000000791A080000000000000079 } entries { term: 7 index: 135 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007A1A08000000000000007A } entries { term: 7 index: 136 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007B1A08000000000000007B } entries { term: 7 index: 137 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007C1A08000000000000007C } entries { term: 7 index: 138 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007D1A08000000000000007D } entries { term: 7 index: 139 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007E1A08000000000000007E } entries { term: 7 index: 140 data: 0A0E08011204080210022A040803100112210803221D0A0764656661756C741208000000000000007F1A08000000000000007F } commit: 140, to: 3, from: 2, raft_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.041 peer.rs:2768: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.041 node.rs:544: [INFO] stop raft store thread, store_id: 2
test_push_non_witness_availability 2022/10/19 17:38:15.041 batch.rs:635: [INFO] shutdown batch system apply
test_push_non_witness_availability 2022/10/19 17:38:15.041 router.rs:317: [INFO] broadcasting shutdown
test_push_non_witness_availability 2022/10/19 17:38:15.041 router.rs:322: [DEBG] [region 1] shutdown mailbox
test_push_non_witness_availability 2022/10/19 17:38:15.041 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 7608, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.042 batch.rs:639: [DEBG] waiting for apply-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.042 batch.rs:639: [DEBG] waiting for apply-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.042 batch.rs:648: [INFO] batch system apply is stopped.
test_push_non_witness_availability 2022/10/19 17:38:15.042 batch.rs:635: [INFO] shutdown batch system raftstore-2
test_push_non_witness_availability 2022/10/19 17:38:15.042 router.rs:317: [INFO] broadcasting shutdown
test_push_non_witness_availability 2022/10/19 17:38:15.042 router.rs:322: [DEBG] [region 1] shutdown mailbox
test_push_non_witness_availability 2022/10/19 17:38:15.042 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 7608, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.042 batch.rs:639: [DEBG] waiting for raftstore-2-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.042 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 7608, msg_type: MsgAppend, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.042 peer.rs:2063: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: Raft, peer_id: 1, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.043 store.rs:1025: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 3 messages and 0 snapshots, takes: 5
test_push_non_witness_availability 2022/10/19 17:38:15.043 batch.rs:639: [DEBG] waiting for raftstore-2-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.043 batch.rs:648: [INFO] batch system raftstore-2 is stopped.
test_push_non_witness_availability 2022/10/19 17:38:15.044 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_push_non_witness_availability 2022/10/19 17:38:15.044 write.rs:771: [DEBG] failed to send msg to other peer in async-writer, error_code: KV:Raftstore:RegionNotFound, err: RegionNotFound(1), target_store_id: 2, target_peer_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.044 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.005003458s, send: 0.00032125s, callback: 0s thread: sync-writer, takes: 5
test_push_non_witness_availability 2022/10/19 17:38:15.044 cluster.rs:374: [DEBG] node 2 stopped
test_push_non_witness_availability 2022/10/19 17:38:15.044 cluster.rs:367: [DEBG] stopping node 3
test_push_non_witness_availability 2022/10/19 17:38:15.044 node.rs:544: [INFO] stop raft store thread, store_id: 3
test_push_non_witness_availability 2022/10/19 17:38:15.044 raft_log.rs:536: [DEBG] persisted index 140, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.044 batch.rs:635: [INFO] shutdown batch system apply
test_push_non_witness_availability 2022/10/19 17:38:15.044 router.rs:317: [INFO] broadcasting shutdown
test_push_non_witness_availability 2022/10/19 17:38:15.044 router.rs:322: [DEBG] [region 1] shutdown mailbox
test_push_non_witness_availability 2022/10/19 17:38:15.044 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 129 entries, 0 messages and 0 snapshots, takes: 7
test_push_non_witness_availability 2022/10/19 17:38:15.045 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 raft.rs:2436: [DEBG] got message with lower index than committed., raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 140 commit: 140, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 batch.rs:639: [DEBG] waiting for apply-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.045 apply.rs:1277: [DEBG] applied command, index: 12, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 apply.rs:1277: [DEBG] applied command, index: 13, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 raft.rs:2436: [DEBG] got message with lower index than committed., raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 140 commit: 140, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 apply.rs:1277: [DEBG] applied command, index: 14, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.045 peer.rs:2459: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 2, message_type: MsgAppend, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 apply.rs:1277: [DEBG] applied command, index: 15, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 raft.rs:2436: [DEBG] got message with lower index than committed., raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 raft.rs:603: [DEBG] Sending from 3 to 2, msg: msg_type: MsgAppendResponse to: 2 index: 140 commit: 140, to: 2, from: 3, raft_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 apply.rs:1277: [DEBG] applied command, index: 16, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 peer.rs:2768: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 apply.rs:2826: [DEBG] compact index <= first index, no need to compact, first_index: 12, compact_index: 10, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 apply.rs:1277: [DEBG] applied command, index: 17, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 peer.rs:1896: [DEBG] failed to send msg to other peer, error_code: KV:Raftstore:Unknown, err: Other("[components/test_raftstore/src/node.rs:135]: missing sender for store 2"), target_store_id: 2, target_peer_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.046 apply.rs:1277: [DEBG] applied command, index: 18, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 apply.rs:1277: [DEBG] applied command, index: 19, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 peer.rs:1896: [DEBG] failed to send msg to other peer, error_code: KV:Raftstore:Unknown, err: Other("[components/test_raftstore/src/node.rs:135]: missing sender for store 2"), target_store_id: 2, target_peer_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 apply.rs:1277: [DEBG] applied command, index: 20, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 peer.rs:1862: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 apply.rs:1277: [DEBG] applied command, index: 21, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 peer.rs:1896: [DEBG] failed to send msg to other peer, error_code: KV:Raftstore:Unknown, err: Other("[components/test_raftstore/src/node.rs:135]: missing sender for store 2"), target_store_id: 2, target_peer_id: 2, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 apply.rs:1277: [DEBG] applied command, index: 22, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.047 store.rs:1025: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 23, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 24, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 peer.rs:2063: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: RaftLogGc, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 25, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 26, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 27, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 28, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 29, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 30, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.048 apply.rs:1277: [DEBG] applied command, index: 31, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 32, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 33, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 34, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 35, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 36, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 37, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 38, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 39, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 40, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 41, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.049 apply.rs:1277: [DEBG] applied command, index: 42, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 43, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 44, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 45, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 46, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 47, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 48, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 49, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 50, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 51, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 52, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.050 apply.rs:1277: [DEBG] applied command, index: 53, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 54, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 55, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 56, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 57, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 58, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 59, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 60, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 61, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 62, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 63, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.051 apply.rs:1277: [DEBG] applied command, index: 64, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 65, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 66, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 67, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 68, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 69, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 70, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 71, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 72, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 73, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 74, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.052 apply.rs:1277: [DEBG] applied command, index: 75, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 76, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 77, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 78, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 79, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 80, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 81, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 82, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 83, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 84, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 85, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 86, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.053 apply.rs:1277: [DEBG] applied command, index: 87, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 88, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 89, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 90, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 91, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 peer.rs:2063: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: CheckPeersAvailability, peer_id: 2, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 92, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 93, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 94, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 95, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 96, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.054 apply.rs:1277: [DEBG] applied command, index: 97, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 98, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 99, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 100, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 101, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 102, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 103, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 104, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 105, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 106, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 107, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.055 apply.rs:1277: [DEBG] applied command, index: 108, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 109, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 110, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 111, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 112, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 113, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 114, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 115, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 116, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 117, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 118, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 119, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.056 apply.rs:1277: [DEBG] applied command, index: 120, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 121, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 122, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 123, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 124, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 125, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 126, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 127, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 128, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 129, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 130, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 131, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.057 apply.rs:1277: [DEBG] applied command, index: 132, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 133, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 134, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 135, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 136, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 137, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 138, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 139, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:1277: [DEBG] applied command, index: 140, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.058 apply.rs:693: [WARN] [store 3] handle ready 129 committed entries, takes: 14
test_push_non_witness_availability 2022/10/19 17:38:15.059 peer.rs:2263: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 140 commit_index: 140 commit_term: 7 truncated_state { index: 11 term: 7 }, applied_term: 7, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 2176, delete_keys_hint: 0, written_bytes: 2697, written_keys: 129, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.059 batch.rs:639: [DEBG] waiting for apply-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.059 batch.rs:648: [INFO] batch system apply is stopped.
test_push_non_witness_availability 2022/10/19 17:38:15.059 batch.rs:635: [INFO] shutdown batch system raftstore-3
test_push_non_witness_availability 2022/10/19 17:38:15.059 router.rs:317: [INFO] broadcasting shutdown
test_push_non_witness_availability 2022/10/19 17:38:15.059 router.rs:322: [DEBG] [region 1] shutdown mailbox
test_push_non_witness_availability 2022/10/19 17:38:15.059 batch.rs:639: [DEBG] waiting for raftstore-3-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.059 batch.rs:639: [DEBG] waiting for raftstore-3-low-0::test_push_non_witness_availability
test_push_non_witness_availability 2022/10/19 17:38:15.059 batch.rs:648: [INFO] batch system raftstore-3 is stopped.
test_push_non_witness_availability 2022/10/19 17:38:15.060 peer.rs:2063: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: Raft, peer_id: 3, region_id: 1
test_push_non_witness_availability 2022/10/19 17:38:15.060 cluster.rs:374: [DEBG] node 3 stopped
test_push_non_witness_availability 2022/10/19 17:38:15.060 cluster.rs:785: [DEBG] all nodes are shut down.
test_push_non_witness_availability 2022/10/19 17:38:15.064 runner.rs:49: [DEBG] case end, name: raftstore::test_witness::test_push_non_witness_availability
